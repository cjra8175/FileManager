/* !v1-1.0.0.js 2018-01-10 */

!function(a,b){function c(a,b){a=a.toString().split("."),b=b.toString().split(".");for(var c=0;c<a.length||c<b.length;c++){var d=parseInt(a[c],10),e=parseInt(b[c],10);if(window.isNaN(d)&&(d=0),window.isNaN(e)&&(e=0),d<e)return-1;if(d>e)return 1}return 0}var d=a.document,e=a.navigator.userAgent,f=/iPhone|iPad|iPod/i.test(e),g=/Android/i.test(e),h=e.match(/(?:IOS|Android)[\/\s](\d+[._]\d+(?:[._]\d+)?)/i),i=e.match(/QAPP[\/\s](\d+[._]\d+[._]\d+)/),j=e.match(/JSSDK[\/\s](\d+[._]\d+[._]\d+)/),k=Object.prototype.hasOwnProperty,l=b.nativeApi=a.NativeApi||(a.NativeApi={}),m=1,n=[];h=h?(h[1]||"0.0.0").replace(/\_/g,"."):"0.0.0",i=i?(i[1]||"0.0.0").replace(/\_/g,"."):"0.0.0",j=j?(j[1]||"0.0.0").replace(/\_/g,"."):"0.0.0";var o={isAvailable:1===c(i,"0"),compareVersion:function(a){return 1===c(i,a)},compareJSSDKVersion:function(a){return 1===c(j,a)},call:function(a,c,d,e,f,g){var h,i;if("number"==typeof arguments[arguments.length-1]&&(g=arguments[arguments.length-1]),"function"!=typeof e&&(e=null),"function"!=typeof f&&(f=null),b.promise&&(i=b.promise.defer()),h=g>0?setTimeout(function(){o.onFailure(h,{ret:"TIMEOUT"})},g):p.getSid(),p.registerCall(h,e,f,i),p.registerGC(h,g),p.callMethod(a,c,d,h),i)return i.promise},fireEvent:function(a,b,c){var e=d.createEvent("HTMLEvents");e.initEvent(a,!1,!0),e.result=p.parseData(b||p.getData(c)),d.dispatchEvent(e)},getParam:function(a){return p.getParam(a)},setData:function(a,b){p.setData(a,b)},onSuccess:function(a,b){console.log("onSuccess---sid:"+a+" data:"+b),p.onComplete(a,b,"success")},onFailure:function(a,b){console.log("onFailure---sid:"+a+" data:"+b),p.onComplete(a,b,"failure")}},p={params:{},chunks:{},calls:{},getSid:function(){return Math.floor(1024*Math.random())+""+m++},buildParam:function(a){return a&&"object"==typeof a?JSON.stringify(a):a||""},getParam:function(a){return this.params["param_"+a]||""},setParam:function(a,b){this.params["param_"+a]=b},parseData:function(a){console.log("parseData---"+a);var b;if(a&&"string"==typeof a)try{b=JSON.parse(a)}catch(a){console.log("parseData error---"+a),b={ret:["WV_ERR::PARAM_PARSE_ERROR"]}}else b=a||{};return b},setData:function(){this.chunks["chunk_"+sid]=this.chunks["chunk_"+sid]||[],this.chunks["chunk_"+sid].push(chunk)},getData:function(a){return this.chunks["chunk_"+a]?this.chunks["chunk_"+a].join(""):""},registerCall:function(a,b,c,d){b&&(this.calls["suc_"+a]=b),c&&(this.calls["err_"+a]=c),d&&(this.calls["defer_"+a]=d)},unregisterCall:function(a){var b="suc_"+a,c="err_"+a,d="defer_"+a,e={};return this.calls[b]&&(e.success=this.calls[b],delete this.calls[b]),this.calls[c]&&(e.failure=this.calls[c],delete this.calls[c]),this.calls[d]&&(e.defer=this.calls[d],delete this.calls[d]),e},useIframe:function(a,b){var c="iframe_"+a,e=n.pop();e||(e=d.createElement("iframe"),e.setAttribute("frameborder","0"),e.style.cssText="width:0;height:0;border:0;display:none;"),e.setAttribute("id",c),e.setAttribute("src",b),e.parentNode||setTimeout(function(){d.body.appendChild(e)},5)},retrieveIframe:function(a){var b="iframe_"+a,c=d.querySelector("#"+b);n.length>=3?d.body.removeChild(c):n.push(c)},callMethod:function(a,b,c,d){c=p.buildParam(c),console.log("call---obj:"+a+" method:"+b+" sid:"+d+" params:"+c);var e="hybrid://"+a+":"+d+"/"+b+"?"+c;if(f)this.setParam(d,c),this.useIframe(d,e);else if(g){window.prompt(e,"wv_hybrid:")}},registerGC:function(a,b){var c=this,d=Math.max(b||0,6e5),e=Math.max(b||0,6e4),h=Math.max(b||0,6e5);setTimeout(function(){c.unregisterCall(a)},d),f?setTimeout(function(){c.params["param_"+a]&&delete c.params["param_"+a]},e):g&&setTimeout(function(){c.chunks["chunk_"+a]&&delete c.chunks["chunk_"+a]},h)},onComplete:function(a,b,c){console.log("onComplete---sid:"+a+" data:"+b+" type:"+c),clearTimeout(a);var d=this.unregisterCall(a),e=d.success,h=d.failure,i=d.defer;b=b||this.getData(a),b=this.parseData(b);var j=b.ret;"string"==typeof j&&(b=b.value||b,b.ret||(b.ret=[j])),"success"===c?(e&&e(b),i&&i.resolve(b)):"failure"===c&&(h&&h(b),i&&i.reject(b)),f?(this.retrieveIframe(a),this.params["param_"+a]&&delete this.params["param_"+a]):g&&this.chunks["chunk_"+a]&&delete this.chunks["chunk_"+a]}};for(var q in o)k.call(l,q)||(l[q]=o[q])}(window,window.lib||(window.lib={})),function(a,b){function c(a){return"string"==typeof a}function d(a,b,c,d,e){a=a.split(".");var f=a[0],g=a[1];l&&l.call(f,g,b,c,d,e)}function e(a,b){return(a||b)&&function(c){c=b&&b(c)||c,a&&a(g(c))}}function f(a){return a&&function(b){a(h(b))}}function g(a){return a=a||{},a.errorCode=0,a.errorMessage="",a}function h(a){var b=5,d=c(a)?a:a.code;if(a){var e=n.indexOf(d);b=e>0?e:b}return{errorCode:b,errorMessage:d,data:a}}var i,j,k=a.navigator.userAgent;(i=k.match(/QAPP[\/\s]([\d\.\_]+)/))&&(j=i[1]);var l=b.nativeApi,m=document,n=(/iPhone|iPad|iPod/i.test(k),/Android/i.test(k),j&&j.split("."),["SUCCESS","NO_HANDLER","PARAM_ERR","FAILED","NO_PERMISSION","TIMEOUT","CANCEL"]),o=a.API=b.API={openLogin:function(a,b){console.log("openLogin---"+JSON.stringify(a)),d("IntentInterface.openLogin",a,e(b),f(b))},openBetInfoPage:function(a,b){console.log("openBetInfoPage---"+JSON.stringify(a)),d("IntentInterface.openBetInfoPage",a,e(b),f(b))},openBloggerPage:function(a,b){console.log("openBloggerPage---"+JSON.stringify(a)),d("IntentInterface.openBloggerPage",a,e(b),f(b))},openBuyDiamond:function(a,b){console.log("openBuyDiamond---"+JSON.stringify(a)),d("IntentInterface.openBuyDiamond",a,e(b),f(b))},openNoteDetail:function(a,b){console.log("openNoteDetail---"+JSON.stringify(a)),d("IntentInterface.openNoteDetail",a,e(b),f(b))},openInformationDetail:function(a,b){console.log("openInformationDetail---"+JSON.stringify(a)),d("IntentInterface.openInformationDetail",a,e(b),f(b))},openYetService:function(a,b){console.log("openYetService---"+JSON.stringify(a)),d("IntentInterface.openYetService",a,e(b),f(b))},openUserCenter:function(a,b){console.log("openUserCenter---"+JSON.stringify(a)),d("IntentInterface.openUserCenter",a,e(b),f(b))},openJiePan:function(a,b){a=c(a)?{url:a}:a,console.log("openJiePan---"+JSON.stringify(a)),d("IntentInterface.openJiePan",a,e(b),f(b))},openBindPhone:function(a,b){console.log("openBindPhone---"+JSON.stringify(a)),d("IntentInterface.openBindPhone",a,e(b),f(b))},openAddressSelect:function(a,b){console.log("openAddressSelect---"+JSON.stringify(a)),d("IntentInterface.openAddressSelect",a,e(b),f(b))},openBetDetail:function(a,b){console.log("openBetDetail---"+JSON.stringify(a)),d("IntentInterface.openBetDetail",a,e(b),f(b))},openBetRule:function(a,b){console.log("openBetRule---"+JSON.stringify(a)),d("IntentInterface.openBetRule",a,e(b),f(b))},openPlayGame:function(a,b){console.log("openPlayGame---"+JSON.stringify(a)),d("IntentInterface.openPlayGame",a,e(b),f(b))},openPayView:function(a,b){console.log("openPayView---"+JSON.stringify(a)),d("IntentInterface.openPayView",a,e(b),f(b))},sendBetMinSign:function(a,b){console.log("sendBetMinSign---"+JSON.stringify(a)),d("IntentInterface.sendBetMinSign",a,e(b),f(b))},openAnyView:function(a,b){console.log("openAnyView---"+JSON.stringify(a)),d("IntentInterface.openAnyView",a,e(b),f(b))},gotoJingCai:function(a,b){console.log("gotoJingCai---"+JSON.stringify(a)),d("IntentInterface.gotoJingCai",a,e(b),f(b))},callPay:function(a,b){a=a||{},d("webService.callPay",a,e(b),f(b))},showConfirm:function(a,b){console.log("showConfirm---"+JSON.stringify(a)),d("DialogInterface.showConfirm",a,e(b),f(b))},sendHttp:function(a,b){a=a||{},console.log("sendHttp---"+JSON.stringify(a)),d("HttpActionInteface.sendHttp",a,e(b),f(b))},getAppInfo:function(a,b){a=a||{},console.log("getAppInfo---"+JSON.stringify(a)),d("DeviceInfoInterface.getAppInfo",a,e(b),f(b))},eventListener:function(a,b){a=c(a)?{url:a}:a,console.log("regiest---"+JSON.stringify(a)),d("webService.eventListener",a,e(b),f(b))},openWindow:function(a,b){a=c(a)?{url:a}:a,console.log("openWindow---"+JSON.stringify(a)),d("webService.openWindow",a,e(b),f(b))},closeWindow:function(a,b){a=a||{},console.log("closeWindow---"+JSON.stringify(a)),d("webService.closeWindow",a,e(b),f(b))},setWebViewTitle:function(a,b){a=c(a)?{url:a}:a,console.log("setWebViewTitle---"+JSON.stringify(a)),d("webService.setWebViewTitle",a,e(b),f(b))},goGame:function(a,b){console.log("goGame---"+JSON.stringify(a)),d("IntentInterface.goGame",a,e(b),f(b))},openClubShare:function(a,b){console.log("openClubShare---"+JSON.stringify(a)),d("IntentInterface.openClubShare",a,e(b),f(b))},openRecommendIndex:function(a,b){console.log("openRecommendIndex---"+JSON.stringify(a)),d("IntentInterface.openRecommendIndex",a,e(b),f(b))},openApplySpecialist:function(a,b){console.log("openApplySpecialist---"+JSON.stringify(a)),d("IntentInterface.openApplySpecialist",a,e(b),f(b))},uploadImage:function(a,b){console.log("PhotoInterface---"+JSON.stringify(a)),d("PhotoInterface.uploadImage",a,e(b),f(b))},toast:function(a,b){var g=c(a)?a:a&&a.text;console.log("toast---"+g),d("DialogInterface.showToast",{msg:g},e(b),f(b))},showLoadding:function(a,b){console.log("showLoadding---"+JSON.stringify(a)),d("IntentInterface.showLoadding",a,e(b),f(b))},share:function(a,b){console.log("share---"+JSON.stringify(a)),d("IntentInterface.shareInfo",a,e(b),f(b))},openszrz:function(a,b){console.log("openszrz---"+JSON.stringify(a)),d("IntentInterface.openszrz",a,e(b),f(b))},downloadImage:function(a,b){console.log("downloadImage---"+JSON.stringify(a)),d("PhotoInterface.downloadImage",a,e(b),f(b))},geolocation:{getCurrentPosition:function(a,b){a=a||{},d("LocationInterface.getLocation",a,e(b),f(b))}},network:{getType:function(a){d("DeviceInfoInterface.getNetworkInfo","",e(a,function(a){var b=a.network||"",c={type:b,isWifi:!1,is2G:!1,is3G:!1,isOnline:!1};return/WIFI/i.test(b)?c.isWifi=c.isOnline=!0:/GPRS|EDGE|CDMA/i.test(b)?c.is2G=c.isOnline=!0:/UMTS|HSDPA|EVDO/i.test(b)&&(c.is3G=c.isOnline=!0),c.isE=c.isG=c.isH=!1,c.networkAvailable=null!=b&&""!=b,c}),f(a))}},photo:function(a,b){a=a||{},d("PhotoInterface.photo",a,e(b,function(a){a.photo=a.resourceUrl}),f(b))},showImage:function(a,b){a=a||{},d("PhotoInterface.showImage",a,e(b,function(a){a.photo=a.resourceUrl}),f(b))},mutiPhoto:function(a,b){a=a||{},d("PhotoInterface.mutiPhoto",a,e(b,function(a){a.photo=a.resourceUrl}),f(b))},contacts:{get:function(a,b){d("WVContacts.choose",null,e(b,function(a){var b=[{name:a.name,phoneNumber:a.phone,email:a.email}];return a.results=b,a}),f(b))}},showLoading:function(a,b){var c=m.getElementById("_Loading");if(c)c.style.display="block";else{var d=m.createElement("div");d.id="_Loading",d.style.cssText="position:absolute;width:100%;height:100%;left:0;top:0;background:url(http://a.tbcdn.cn/mw/base/styles/component/more/images/loading.gif) 50% 50% no-repeat;background-size:40px 16px;pointer-events:none;",c=m.createDocumentFragment(),c.appendChild(d)}m.body.appendChild(c),b&&b(g(null))},hideLoading:function(a){var b=m.getElementById("_Loading");b&&(b.style.display="none"),a&&a(g(null))}},p=navigator.geolocation||(navigator.geolocation={});p.getCurrentPosition||(p.getCurrentPosition=o.geolocation.getCurrentPosition)}(window,window.lib||(window.lib={}));