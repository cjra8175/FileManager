/* !v1-1.0.0.js 2018-01-10 */

var TouchSlide=function(a){a=a||{};var b={slideCell:a.slideCell||"#touchSlide",titCell:a.titCell||".hd li",mainCell:a.mainCell||".bd",effect:a.effect||"left",autoPlay:a.autoPlay||!1,delayTime:a.delayTime||200,interTime:a.interTime||2500,defaultIndex:a.defaultIndex||0,titOnClassName:a.titOnClassName||"on",autoPage:a.autoPage||!1,prevCell:a.prevCell||".prev",nextCell:a.nextCell||".next",pageStateCell:a.pageStateCell||".pageState",pnLoop:"undefined "==a.pnLoop||a.pnLoop,startFun:a.startFun||null,endFun:a.endFun||null,switchLoad:a.switchLoad||null},c=document.getElementById(b.slideCell.replace("#",""));if(!c)return!1;var d=function(a,b){a=a.split(" ");var c=[];b=b||document;var d=[b];for(var e in a)0!=a[e].length&&c.push(a[e]);for(var e in c){if(0==d.length)return!1;var f=[];for(var g in d)if("#"==c[e][0])f.push(document.getElementById(c[e].replace("#","")));else if("."==c[e][0])for(var h=d[g].getElementsByTagName("*"),i=0;i<h.length;i++){var j=h[i].className;j&&-1!=j.search(new RegExp("\\b"+c[e].replace(".","")+"\\b"))&&f.push(h[i])}else for(var h=d[g].getElementsByTagName(c[e]),i=0;i<h.length;i++)f.push(h[i]);d=f}return 0!=d.length&&d[0]!=b&&d},e=function(a,b){!a||!b||a.className&&-1!=a.className.search(new RegExp("\\b"+b+"\\b"))||(a.className+=(a.className?" ":"")+b)},f=function(a,b){!a||!b||a.className&&-1==a.className.search(new RegExp("\\b"+b+"\\b"))||(a.className=a.className.replace(new RegExp("\\s*\\b"+b+"\\b","g"),""))},g=b.effect,h=d(b.prevCell,c)[0],i=d(b.nextCell,c)[0],j=d(b.pageStateCell)[0],k=d(b.mainCell,c)[0];if(!k)return!1;var l,m,n=k.children.length,o=d(b.titCell,c),p=o?o.length:n,q=b.switchLoad,r=parseInt(b.defaultIndex),s=parseInt(b.delayTime),t=parseInt(b.interTime),u="false"!=b.autoPlay&&0!=b.autoPlay,v="false"!=b.autoPage&&0!=b.autoPage,w="false"!=b.pnLoop&&0!=b.pnLoop,x=r,y=null,z=null,A=null,B=0,C=0,D=0,E=0,F=/hp-tablet/gi.test(navigator.appVersion),G="ontouchstart"in window&&!F,H=G?"touchstart":"mousedown",I=G?"touchmove":"",J=G?"touchend":"mouseup",K=k.parentNode.clientWidth,L=n;if(0==p&&(p=n),v){p=n,o=o[0],o.innerHTML="";var M="";if(1==b.autoPage||"true"==b.autoPage)for(var N=0;p>N;N++)M+="<li>"+(N+1)+"</li>";else for(var N=0;p>N;N++)M+=b.autoPage.replace("$",N+1);o.innerHTML=M,o=o.children}"leftLoop"==g&&(L+=2,k.appendChild(k.children[0].cloneNode(!0)),k.insertBefore(k.children[n-1].cloneNode(!0),k.children[0])),l=function(a,b){var c=document.createElement("div");c.innerHTML=b,c=c.children[0];var d=a.cloneNode(!0);return c.appendChild(d),a.parentNode.replaceChild(c,a),k=d,c}(k,'<div class="tempWrap" style="overflow:hidden; position:relative;"></div>'),k.style.cssText="width:"+L*K+"px;position:relative;overflow:hidden;padding:0;margin:0;";for(var N=0;L>N;N++)k.children[N].style.cssText="display:table-cell;vertical-align:top;width:"+K+"px";var O=function(){"function"==typeof b.startFun&&b.startFun(r,p)},P=function(){"function"==typeof b.endFun&&b.endFun(r,p)},Q=function(a){var b=("leftLoop"==g?r+1:r)+a,c=function(a){for(var b=k.children[a].getElementsByTagName("img"),c=0;c<b.length;c++)b[c].getAttribute(q)&&(b[c].setAttribute("src",b[c].getAttribute(q)),b[c].removeAttribute(q))};if(c(b),"leftLoop"==g)switch(b){case 0:c(n);break;case 1:c(n+1);break;case n:c(0);break;case n+1:c(1)}},R=function(){K=l.clientWidth,k.style.width=L*K+"px";for(var a=0;L>a;a++)k.children[a].style.width=K+"px";S(-("leftLoop"==g?r+1:r)*K,0)};window.addEventListener("resize",R,!1);var S=function(a,b,c){c=c?c.style:k.style,c.webkitTransitionDuration=c.MozTransitionDuration=c.msTransitionDuration=c.OTransitionDuration=c.transitionDuration=b+"ms",c.webkitTransform="translate("+a+"px,0)translateZ(0)",c.msTransform=c.MozTransform=c.OTransform="translateX("+a+"px)"},T=function(a){switch(g){case"left":r>=p?r=a?r-1:0:0>r&&(r=a?0:p-1),null!=q&&Q(0),S(-r*K,s),x=r;break;case"leftLoop":null!=q&&Q(0),S(-(r+1)*K,s),-1==r?(z=setTimeout(function(){S(-p*K,0)},s),r=p-1):r==p&&(z=setTimeout(function(){S(-K,0)},s),r=0),x=r}O(),A=setTimeout(function(){P()},s);for(var c=0;p>c;c++)f(o[c],b.titOnClassName),c==r&&e(o[c],b.titOnClassName);0==w&&(f(i,"nextStop"),f(h,"prevStop"),0==r?e(h,"prevStop"):r==p-1&&e(i,"nextStop")),j&&(j.innerHTML="<span>"+(r+1)+"</span>/"+p)};if(T(),u&&(y=setInterval(function(){r++,T()},t)),o)for(var N=0;p>N;N++)!function(){var a=N;o[a].addEventListener("click",function(){clearTimeout(z),clearTimeout(A),r=a,T()})}();i&&i.addEventListener("click",function(){(1==w||r!=p-1)&&(clearTimeout(z),clearTimeout(A),r++,T())}),h&&h.addEventListener("click",function(){(1==w||0!=r)&&(clearTimeout(z),clearTimeout(A),r--,T())});var U=function(a){clearTimeout(z),clearTimeout(A),m=void 0,D=0;var b=G?a.touches[0]:a;B=b.pageX,C=b.pageY,k.addEventListener(I,V,!1),k.addEventListener(J,W,!1)},V=function(a){if(!G||!(a.touches.length>1||a.scale&&1!==a.scale)){var b=G?a.touches[0]:a;if(D=b.pageX-B,E=b.pageY-C,void 0===m&&(m=!!(m||Math.abs(D)<Math.abs(E))),!m){switch(a.preventDefault(),u&&clearInterval(y),g){case"left":(0==r&&D>0||r>=p-1&&0>D)&&(D*=.4),S(-r*K+D,0);break;case"leftLoop":S(-(r+1)*K+D,0)}null!=q&&Math.abs(D)>K/3&&Q(D>-0?-1:1)}}},W=function(a){0!=D&&(a.preventDefault(),m||(Math.abs(D)>K/10&&(D>0?r--:r++),T(!0),u&&(y=setInterval(function(){r++,T()},t))),k.removeEventListener(I,V,!1),k.removeEventListener(J,W,!1))};k.addEventListener(H,U,!1)};