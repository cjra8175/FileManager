/* !v1-1.0.0.js 2018-01-10 */

var addBiaoQian=function(a){if(T.Util.isEmpty(a)||a.length<=0)return"";for(var b="",c=0;c<a.length&&5!=c;c++){var d="";d=0==a[c].tag_type?"<span class='tag-1'>"+a[c].tag_name+"</span>":1==a[c].tag_type?"<span class='tag-2'>"+a[c].tag_name+"</span>":"<span class='tag-1'>"+a[c].tag_name+"</span>",b+=d}return b},isFollow=function(a){return T.Util.isEmpty(a)?"":1==a.is_self?" hide":0==a.is_friend||T.Util.isEmpty(a.is_friend)?"":1==a.is_friend?" concern-yes":" hide"},isGuanZhu=function(a){return T.Util.isEmpty(a)||0==a?"+关注":"已关注"},expertAlias=function(a,b){if(T.Util.isEmpty(a))return"";var c=a.expert_honour,d=a.is_combat,e=a.expert_level,f=a.is_expert,g=a.is_baiyin_user;return b&&1==b?'<span class="expert-tag"></span> '+buyinBiaoQian(g)+" "+combatBiaoQian(d):T.Util.isEmpty(c)||c.length<=0?1!=f?'<span class="expert-tag">'+expertLevel("")+"</span> "+combatBiaoQian(d):'<span class="expert-tag">'+expertLevel(e)+"</span> "+combatBiaoQian(d):'<span class="expert-tag"></span> '+combatBiaoQian(d)},combatBiaoQian=function(a){var b="";return a&&1==a&&(b="<span class='tag-3'>实战</span>"),b},buyinBiaoQian=function(a){var b="";return a&&1==a&&(b="<span class='person-icon1 "+(Global.isAndroid?"android_icon":"")+"'>百盈号</span>"),b},delFriend=function(a,b){T.Util.xmlHttpRequest({type:"get",reqUrl:"/app-web/api/friends/del_friend?access_token="+T.Storage.get("access_token")+"&user_no="+a,callback:function(a){b.html("+关注"),b.attr("isfollow",0),b.removeClass(" concern-yes"),tip("取消关注"),"function"!=typeof decreaseGuanZhu||T.Util.isEmpty(decreaseGuanZhu)||decreaseGuanZhu(b)},errorCallback:function(a){}})},addFriend=function(a,b){T.Util.xmlHttpRequest({type:"get",reqUrl:"/app-web/api/friends/add_friend?access_token="+T.Storage.get("access_token")+"&user_no="+a,callback:function(a){b.html("已关注"),b.attr("isfollow",1),b.hasClass(" concern-yes")||b.addClass(" concern-yes"),tip("关注成功"),"function"!=typeof addGuanZhu||T.Util.isEmpty(addGuanZhu)||addGuanZhu(b)},errorCallback:function(a){}})},expertLevel=function(a){return T.Util.isEmpty(a)?"":1==a?" | 初级专家":2==a?" | 中级专家":3==a?" | 高级专家":4==a?" | 资深专家":""},wuGame=function(a,b){if(1==b){var c="盈利率:";return T.Util.isEmpty(a)||T.Util.isEmpty(a.new_analysis)||T.Util.isEmpty(a.new_analysis.gain_rate)?"":c+="<em class='act-red'>"+a.new_analysis.gain_rate+"</em>"}var d="近五场:";if(T.Util.isEmpty(a)||T.Util.isEmpty(a.new_analysis)||T.Util.isEmpty(a.new_analysis.wugame_gains))return"";var e=a.new_analysis.wugame_gains;if(-1!=e.indexOf("赢")||-1!=e.indexOf("输")||-1!=e.indexOf("走"))for(var f=0;f<e.length;f++)d+=isStyle(e.substring(f,f+1));else d+=isStyle(e);return d},isStyle=function(a){var b="";return b+="赢"==a?"<em class='act-red'>"+a+"</em>":"<em >"+a+"</em>"},isEmpty=function(a){return T.Util.isEmpty(a)?"":a},isEmptyNum=function(a){return T.Util.isEmpty(a)?"0":a},buyNum=function(a){return T.Util.isEmpty(a)||0==a?"width:0%":1==a?"width:20%":2==a?"width:40%":3==a?"width:60%":4==a?"width:80%":"width:100%"},showNoDataHtml=function(){$(".noPlayMinDataBox").css("display","")},hideNoDataHtml=function(){$(".noPlayMinDataBox").css("display","none")},recomType=function(a,b){if(T.Util.isEmpty(a))return"";if(1==a.is_self||1==a.is_bought||!T.Util.isEmpty(a.is_hit)&&0!=a.is_hit){if(T.Util.isEmpty(b)||1!=b)return 1==T.Util.isEmpty(a.forcast)?recomTypeStr(a.recom_type):a.forcast;var c="赛前 · ";return 0==a.is_inplay&&(c='<i class="gun-icon">滚球</i> · '),'推荐：<span class="mj-s">'+c+T.Util.notNullValue(a.bet_type)+T.Util.notNullValue(a.bet_item)+"</span>"}if(T.Util.isEmpty(b)||1!=b)return recomTypeStr(a.recom_type);var c="赛前 · ";0==a.is_inplay&&(c='<i class="gun-icon">滚球</i> · ');var d="";return T.Util.isEmpty(a.handicap)||(d="("+a.handicap+")"),'类型：<span class="mj-s">'+c+T.Util.notNullValue(a.bet_type)+"</span>"+d},recomTypeStr=function(a){return 1==a?1==sType?"胜负":"竞彩单关":2==a?1==sType?"让分胜负":"亚盘":3==a?1==sType?"大小分":"大小球":4==a?"串关":""},isExpert=function(){T.Util.xmlHttpRequest({type:"get",reqUrl:"/auth-web/api/user/get_user?access_token="+T.Storage.get("access_token"),callback:function(a){1==a.get_user.is_expert?is_expert=1:is_expert=-1,1==a.get_user.is_byh?is_byh=1:is_byh=-1},errorCallback:function(a){is_expert=-1}})},isMatchEnd=function(a){return!T.Util.isEmpty(a)&&5==a.status},isLeagueStyle=function(a){return!T.Util.isEmpty(a)&&a.indexOf("#")>=0&&7==a.length?a:"league-color"},isMatchHtm=function(a){if(T.Util.isEmpty(a))return"vs-icon";var b=a.status;return 5==b||6==b||7==b||11==b||12==b||10==b?"vs-score":2==b||3==b||4==b||8==b||9==b?"vs-underway":"vs-icon"},scoreResult=function(a){return isMatchEnd(a)||isMatchStart(a)?a.h_score+"-"+a.g_score:isMatchStatus(a)},isMatchStatus=function(a){if(T.Util.isEmpty(a))return"vs";var b=a.status;return 6==b?"取消":7==b?"改期":11==b?"腰斩":12==b?"推迟":10==b?"暂停":"vs"},isMatchStart=function(a){return!(T.Util.isEmpty(a)||2!=a.status&&3!=a.status&&4!=a.status&&8!=a.status&&9!=a.status)},resultStr=function(a,b,c,d){return T.Util.isEmpty(b)?"":1!=T.Util.isEmpty(recomStatusStr(d))?recomStatusStr(d):1==b||4==b?T.Util.isEmpty(c)?"":1==c?"赢":-1==c?"输":2==c?"走":"":T.Util.isEmpty(a)?"":3==a?"赢":3.5==a?"赢半":0==a?"输":.5==a?"输半":1==a?"走":""},resultHtm=function(a,b,c,d){return 1!=T.Util.isEmpty(recomStatusStr(d))?"tj-other":T.Util.isEmpty(b)?"":1==b||4==b?T.Util.isEmpty(c)?"":1==c?"tj-win":-1==c?"tj-lose":2==c?"tj-zou":"":T.Util.isEmpty(a)?"":3==a?"tj-win":3.5==a?"tj-win-ban":0==a?"tj-lose":.5==a?"tj-lose-ban":1==a?"tj-zou":""},recomStatusStr=function(a){return T.Util.isEmpty(a)?"":0==parseInt(a)?"待审核":-10==parseInt(a)?"撤单":11==parseInt(a)?"审核不通过":""},timeStr=function(a,b){return T.Util.isEmpty(a)||-1==a||-2==a?!T.Util.isEmpty(b)&&b.length>16?-1==a?b.substring(11,16):-2==a?b.substring(5,16):b.substring(5,10):"":a},requestSxData=function(a){var b=[];T.Util.xmlHttpRequest({type:"get",errorType:!0,reqUrl:"/app-web/api/recom/qry_newrecom_leagues?sport_type="+sType,callback:function(c){var d=c.qry_newrecom_leagues;if(!(T.Util.isEmpty(d)||T.Util.isEmpty(d.data)||d.length<=0)){for(var e=d.data,f=0;f<e.length;f++)b.push('<li class ="'+isOn(e[f].is_jc)+'" is_hot="'+e[f].is_hot+'" is_jc="'+e[f].is_jc+'" league_id="'+e[f].league_id+'"><span>'+e[f].league_name+"</span></li>");a.html(b.join("")),addListener()}},errorCallback:function(a){}})},isOn=function(a){return 1==a?"on":""},isChuanGuanEnd=function(a){return!T.Util.isEmpty(a)&&0!=a},showPriceHtm=function(a,b,c){return 1==isChuanGuanEnd(b.is_hit)?resultHtm(b.result,b.recom_type,b.is_hit,b.status):isDingYueClass(b,c)},isDingYueClass=function(a,b){return T.Util.isEmpty(a)?"":1!=T.Util.isEmpty(recomStatusStr(a.status))?1==b?"tj-other-price":"yc-btn":1==b?"tj-price":1==a.is_bought?"ydy-btn":a.price>0?"ck-btn":0==a.price?"free-btn":""},showPrice=function(a,b,c){return 1==isChuanGuanEnd(b.is_hit)?resultStr(b.result,b.recom_type,b.is_hit,b.status):isDingYue(b,c)},isDingYue=function(a,b){return T.Util.isEmpty(a)?"":1!=T.Util.isEmpty(recomStatusStr(a.status))?recomStatusStr(a.status):1==b?T.Util.isEmpty(a.price)||0==a.price?"免费推荐":"定价:"+a.price+"钻":1==a.is_bought?"已订阅":a.price>0?"<em class='ck-z'>"+a.price+"钻</em>查看":0==a.price?"免费查看":""},showJinBi=function(a){$(".sign_success_prize").html("+"+a+"金币"),setTimeout(function(){$(".sign_success_layout,.sign_success_close").show(),$(".sign_success_layout").addClass("animated bounceIn").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(".sign_success_layout").removeClass("animated bounceIn"),setTimeout(function(){$(".sign_success_layout").addClass("animated fadeOut").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(".sign_success_layout").removeClass("animated fadeOut"),$(".sign_success_layout,.sign_success_close").hide(),$(".sign.mask").hide()})},3e3)})},500)},recommend=function(){function a(a,b){T.Util.isEmpty(b)&&(b=1);var c=parseInt(b/60);return c<1?"1":"2"==a&&c>45?"45+":"4"==a&&c<46?"46":"4"==a&&c>90?"90+":"8"==a&&c>120?"120+":c}var b={1:"未开始",2:"上半场",3:"中场休息",4:"下半场",5:"完场",6:"取消",7:"待定",8:"加时",9:"点球",10:"中断",11:"腰斩",12:"推迟"},c=function(a){return"6"==a||"7"==a||"10"==a||"11"==a||"12"==a},d=function(a){return"2"==a||"4"==a||"6"==a||"8"==a||"10"==a},e=function(a){var b="";return a>0&&(b=a>=60?((parseInt(a/60)+"").length<=1?"0"+parseInt(a/60):parseInt(a/60))+"'"+((a%60+"").length<=1?"0"+a%60:a%60)+"''":"00'"+((a+"").length<=1?"0"+a:a)+"''"),b};return{status:function(d,f,g,h){if(0==sType&&c(d)||"1"==d||T.Util.isEmpty(d)||1==sType&&0==d){if(T.Util.isEmpty(g))var i='<span class="cg-label">'+h.substring(5,10)+"</span>";else var i='<span class="cg-label">'+g+"</span>";var j='<span class="cg-label">'+h.substring(11,16)+"</span>";return[i,j]}if(0==sType){var j=a(d,f);if("3"==d)var k='<span class="cg-label bs-date"><span>中场休息</span></span>',l='<span class="cg-label"></span>';else if("5"==d)var k='<span class="cg-label bs-date"><span>完</span></span>',l='<span class="cg-label"></span>';else if("8"==d||"9"==d)var k='<span class="cg-label bs-date">'+b[d]+"</span>",l='<span class="cg-label bs-date"><span>'+j+'</span><em class="bs-dian">\'</em></span>';else if("6"==d||"7"==d||"11"==d||"12"==d)var k='<span class="cg-label bs-date"><span>'+b[d]+"</span></span>",l='<span class="cg-label"></span>';else var k='<span class="cg-label bs-date"><span>'+j+' </span><em class="bs-dian">\'</em></span>',l='<span class="cg-label"></span>'}else{var m={"-1":"完",1:"第一节",2:"第二节",3:"第三节",4:"第四节",5:"加时",10:"第一节结束",20:"第二节结束",30:"第三节结束",40:"第四节结束",50:"中场"};if(d>=10||"-1"==d)var k='<span class="cg-label bs-date"><span>'+m[d]+"</span></span>",l='<span class="cg-label"></span>';else if("1"==d||"2"==d||"3"==d||"4"==d||"5"==d)var k='<span class="cg-label bs-date">'+m[d]+"</span>",l='<span class="cg-label bs-date"><span>'+e(f)+"</span></span>";else var k='<span class="cg-label bs-date"><span>'+g+'</span><em class="bs-dian">\'</em></span>',l='<span class="cg-label"></span>'}return[k,l]},match_chg:function(){var e=new Object;return e.first=!0,e.el="",e.cur_time="",e.start=function(){e.first&&(e.first=!1,setInterval(function(){e.getdata()},3e4),setInterval(function(){for(var b=e.getlivematchs(),c=0;c<b.length;c++)for(var f=$('[m_id="'+b[c]+'"]'),g=0;g<f.length;g++)if(!T.Util.isEmpty($(f[g]).attr("r_time"))&&"1"!=$(f[g]).attr("status")){var h=parseInt($(f[g]).attr("r_time"));h&&($(f[g]).attr("r_time",h+1),d($(f[g]).attr("status"))&&$(f[g]).find(".bs-date span").html(a($(f[g]).attr("status"),h+1)+" "))}},1e3))},e.getlivematchs=function(){for(var a=$(e.el),b=[],c=0;c<a.length;c++)if("5"!=$(a[c]).attr("status")){var d=$(a[c]).attr("m_id");-1==b.indexOf(d)&&b.push(d)}return b},e.getdata=function(){if(""!=e.cur_time&&e.getlivematchs().length){var a={qry_match_chg:{match_id:e.getlivematchs().join(","),chg_types:"0,1,3",cur_time:e.cur_time}};T.Util.xmlHttpRequest({type:"post",reqUrl:"/app-web/api/match/qry_match_chg",reqData:a,callback:function(a){e.cur_time=a.cur_time,T.Util.isEmpty(a.qry_match_chg)||e.dohtml(a.qry_match_chg.data)},errorCallback:function(){}})}},e.dohtml=function(e){for(var f=0;f<e.length;f++)for(var g=e[f],h=$('[m_id="'+g.match_id+'"]'),i=0;i<h.length;i++)if($(h[i]).attr("r_time",g.running_time),!T.Util.isEmpty(g.status_cd)){$(h[i]).attr("status",g.status_cd);var j=g.status_cd,k=a(j,g.running_time);"3"==j?($(h[i]).find(".cg-label").eq(0).addClass("bs-date").html("<span>中场休息</span>"),$(h[i]).find(".cg-label").eq(1).html("")):"5"==j?($(h[i]).find(".cg-label").eq(0).addClass("bs-date").html("<span>完</span>"),$(h[i]).find(".cg-label").eq(1).html("")):"8"==j||"9"==j?($(h[i]).find(".cg-label").eq(0).addClass("bs-date").html("<span>"+b[j]+"</span>"),$(h[i]).find(".cg-label").eq(1).addClass("bs-date").html("<span>"+k+' </span><em class="bs-dian">\'</em>')):"6"==j||"7"==j||"11"==j||"12"==j?($(h[i]).find(".cg-label").eq(0).addClass("bs-date").html("<span>"+b[j]+"</span>"),$(h[i]).find(".cg-label").eq(1).html("")):($(h[i]).find(".cg-label").eq(0).addClass("bs-date").html("<span>"+k+' </span><em class="bs-dian">\'</em>'),$(h[i]).find(".cg-label").eq(1).html(""));var l="vs";d(j)||5==j?l=g.home_team_score+"-"+g.guest_team_score:c(j)&&(l=b[j]),$(h[i]).find(".mj-team span").removeClass().addClass(isMatchHtm(g.status_cd)).html(l)}},e},loadingfinish:function(a,b,c,d){a>=1||0==$(b).length?$(d).addClass("hide"):$(d).removeClass("hide"),0==$(b).length?($(c).removeClass("hide"),$(".dropload-down").hide()):($(c).addClass("hide"),$(".dropload-down").show())},combat_pop:function(a){return $(".text_top").html('如何成为实战高手<span class="arrow"></span>'),{combat_pop:"",canpop:1,is_combat:0,getdata:function(a){var b=this;b.addListener(),T.Util.isEmpty(T.Storage.get("access_token"))||(T.Util.xmlHttpRequest({type:"get",version:"2.0.0",reqUrl:"/forum/api/info/combat_pop?access_token="+T.Storage.get("access_token"),callback:function(a){console.log(a),"0"==a.msg_code&&(b.combat_pop=a.combat_pop,b.addListener())},errorCallback:function(){}}),T.Util.xmlHttpRequest({type:"get",reqUrl:"/auth-web/api/user/get_user?access_token="+T.Storage.get("access_token"),callback:function(c){T.Util.isEmpty(c.get_user)||(b.is_combat=c.get_user.is_combat,b.addListener(),a&&a(c))},errorCallback:function(){}}))},addListener:function(){var b=this;T.Util.isEmpty(a)?((!T.Util.isEmpty(T.Storage.get("userinfo"))&&1==T.Storage.get("userinfo").is_combat||1==b.is_combat)&&$(".text_top").html('如何发起实战推荐<span class="arrow"></span>'),$(".text_top").off().Touch(function(){b.pop()})):$(a).off().Touch(function(){b.pop()})},pop:function(){var a=this;if(1==a.canpop)if(a.canpop=0,setTimeout(function(){a.canpop=1},1e3),console.log(a.combat_pop),T.Util.isEmpty(a.combat_pop)||T.Util.isEmpty(a.combat_pop.title)||T.Util.isEmpty(a.combat_pop.content)){var b=T.Util.getRootPath()+"/"+Global.webRoot+"/recommend/szgsRule.html";T.Util.openWindow(b)}else T.isNative&&api.openszrz(a.combat_pop,function(){})}}},hideresult:function(a,b){for(var c=$(a),d=0;d<c.length;d++)1==$(c[d]).attr("is_self")||1!=b&&1!=$(c[d]).attr("is_mj")||($(c[d]).find(".tj-win").addClass("hide"),$(c[d]).find(".tj-lose").addClass("hide"),$(c[d]).find(".tj-zou").addClass("hide"),$(c[d]).find(".tj-win-ban").addClass("hide"),$(c[d]).find(".tj-lose-ban").addClass("hide"))},ismatch:d,isAbnormal:c,recomtype:function(a){return 1==a?1==sType?"胜负":"竞彩":2==a?1==sType?"让分胜负":"亚盘":3==a?1==sType?"大小分":"大小球":4==a?"串关":6==a?1==sType?"胜负":"竞彩":void 0}}},doDropLoadInit=function(a,b){b&&(pageDropLoadObj=b,a||"down"!=b.direction?a?(b.noData(!0),b.lock(),b.resetload()):b.resetload():(b.resetload(),b.noData(!1),b.unlock()))};