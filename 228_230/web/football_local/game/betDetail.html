<style>
.bet_navBox {
	background-color: #fff;
	color: #757575;
	height: 50px;
	border-bottom: 1px solid #e5e5e5
}

.bet_nav {
	height: 35px;
	line-height: 35px;
	text-align: center;
	display: -webkit-box;
	width: 90%;
	margin: 0 auto;
	font-size: 14px;
	width: calc(100% - 20px);
	position: fixed;
	z-index: 101;
	padding: 0 10px
}

.pageBox {
	top:0px;
	z-index: 102
}

.pageBox .bet_nav li {
	-webkit-box-flex: 1;
	width: 0;
	padding: 0;
	height: 24px
}

.bet_nav li.on {
	color: #ff5b06;
	opacity: 1;
	position: relative;
	font-size: 15px
}

.pageBox .bet_nav li span {
	display: inline-block;
	width: 80px;
	padding: 0;
	color: #333
}

.pageBox .bet_nav li.on {
	background: 0 0
}

.pageBox .bet_nav li.on span {
	border-radius: 12px;
	color: #2479e2
}

.bet_section {
	margin-bottom: 100px;
	padding-top: 0px
}

.main.main_b {
	padding-top: 40px;
}

.time_list {
	height: 40px;
	line-height: 40px;
	display: -webkit-box;
	background-color: #dadfe2;
	color: #333;
	border-bottom: 1px solid #d9d9d9
}

.time_first {
	background-color: #fff
}

.time_list li {
	position: relative
}

.timeL {
	color: #333;
	text-align: left;
	width: 0;
	-webkit-box-flex: 1;
	padding-left: 13px
}

.timeC {
	width: 0;
	-webkit-box-flex: 1.5
}

.vs {
	position: absolute;
	left: 50%;
	width: 54px;
	margin-left: -27px;
	text-align: center;
	font-size: 15px
}

.timeR {
	color: #72777e;
	text-align: right;
	width: 0;
	-webkit-box-flex: .7
}

.timeRight {
	color: #333;
	text-align: right;
	width: 0;
	-webkit-box-flex: 1
}

.timeR_si {
	margin-right: 40px
}

.number_di {
	display: inline-block;
	position: absolute;
	height: 20px;
	background-color: #bf360c;
	width: 4px;
	left: 0;
	top: 7px
}

.time_down {
	position: relative;
	background-color: #aaa
}

.time_down:after,.time_down:before {
	border: 7px solid transparent;
	border-bottom: 8px solid #dadfe2;
	width: 0;
	height: 0;
	position: absolute;
	content: ' '
}

.time_first .time_down:after,.time_first .time_down:before {
	border: 7px solid transparent;
	border-bottom: 8px solid #fff
}

.time_first .time_down:before {
	border-bottom: 8px solid #aaa;
	top: -4px;
	right: 12px
}

.time_down:after {
	top: -2px;
	right: 12px
}

.time_down:before {
	border-bottom: 8px solid #aaa;
	top: -4px;
	right: 12px
}

.time_up {
	position: relative;
	background-color: #aaa
}

.time_up:after,.time_up:before {
	border: 7px solid transparent;
	border-top: 7px solid #dadfe2;
	width: 0;
	height: 0;
	position: absolute;
	content: ' '
}

.time_up:after {
	top: 2px;
	right: 12px
}

.time_up:before {
	border-top-color: #aaa;
	top: 4px;
	right: 12px
}

.TZ_box3 {
	padding: 5px 13px;
	border-top: 1px solid #ebeef0;
	background: #fff;
	color: #333;
	margin-top: -7px
}

.number_color {
	font-size: 15px
}

.time_list+.time_listContent .TZ_list:first-child {
	margin-top: -6px
}

.time_list+.number_listContent .TZ_list:first-child {
	margin-top: -6px
}

.TZ_listBox {
	margin-bottom: 8px
}

.hName {
	width: 45px;
	text-align: right;
	margin-left: 1%;
	white-space: nowrap
}

.gName {
	width: 45px;
	text-align: left;
	margin-right: 1%;
	white-space: nowrap
}

.LS_date {
	height: 50px;
	display: -webkit-box;
	line-height: 50px;
	text-align: center
}

.LS_begin {
	-webkit-box-flex: 2
}

.LS_end {
	-webkit-box-flex: 2
}

.LS_search {
	-webkit-box-flex: 1;
	padding-top: 2px
}

.btn_search {
	background-color: #fff;
	margin-left: 0;
	padding: 5px 8px;
	color: #333;
	height: 18px;
	border-radius: 2px;
	font-size: 12px
}

.LS_input {
	width: 75px;
	height: 20px;
	background-color: #fff;
	color: #333;
	border-radius: 3px;
	border: 1px solid #afbdc4;
	padding-left: 5px
}

.calendar {
	width: 22px;
	height: 20px;
	margin-left: 1px;
	background-position: -302px -391px;
	margin-top: -2px
}

.yek {
	width: 22px;
	height: 21px;
	background-position: -302px -761px
}

.htm_bottom {
	color: #5d6168;
	text-align: center;
	position: absolute;
	left: 50%;
	margin-left: -102px;
	padding: 40px 0 15px
}

.CG_record {
	position: absolute;
	left: 50%;
	margin-left: -24px
}

.JQ_section .section_number,.JQ_section .section_pkroom,.JQ_section .section_time,.LS_section .section_time,.WJ_section .section_time {
	margin-top: 6px
}

.JQ_section .section_time {
	margin-top: 0
}

.JQ_section {
	margin-top: 40px
}

.loadMore {
	height: 40px;
	text-align: center;
	line-height: 40px;
	background: #fff;
	color: #333;
	margin-top: 6px
}

.cg_Title {
	height: 44px;
	line-height: 44px;
	color: #63696f;
	font-size: 13px;
	padding-left: 15px
}

.pr_money {
	position: absolute;
	right: 50px;
	white-space: nowrap
}

.bColor {
	color: #8c8c8c
}

@media screen and (-webkit-min-device-pixel-ratio:2) {
	.JQ_nav,.time_list {
		background-position: left bottom;
		background-repeat: repeat-x;
		background-size: 100% 1px;
		background-image: -webkit-gradient(linear,left top,left bottom,color-stop(.5,transparent),color-stop(.5,#d9d9d9),to(#d9d9d9));
		border: 0
	}
}

.money_win {
	color: #ff5000
}

.money_lose {
	color: #309f0e
}

.shareText_top {
	width: 100%;
	height: 35px;
	background: #ff5001;
	color: #fff;
	font-size: 15px;
	line-height: 35px;
	text-align: center
}

#sureShare {
	position: fixed;
	bottom: -42px;
	width: 100%;
	height: 42px;
	line-height: 42px;
	text-align: center;
	font-size: 15px;
	color: #fff;
	background: #ccc;
	z-index: 120
}

@-webkit-keyframes sureY {
	0% {
		-webkit-transform: translateY(0)
	}

	100% {
		-webkit-transform: translateY(-42px)
	}
}

@-webkit-keyframes sureN {
	0% {
		-webkit-transform: translateY(-42px)
	}

	100% {
		-webkit-transform: translateY(0)
	}
}

.sureY {
	-webkit-animation: sureY linear .3s forwards
}

.sureN {
	-webkit-animation: sureN linear .3s forwards
}

#sureShare.on {
	background: #2479e2
}

#sureShare.out {
	background: #ccc
}

.TZ_box2 {
	margin: 0 14px
}

.helpShare {
	position: fixed;
	top: 10px;
	right: 20px;
	width: 85%;
	background: url(../img/betDetailshareTip.png) no-repeat;
	background-size: 100% 100%;
	vertical-align: middle;
	height: 200px;
	z-index: 1000
}

.know {
	position: absolute;
	width: 40%;
	height: 40px;
	left: 20%;
	bottom: 2%
}

.runningMoney {
	position: absolute;
	width: 100%;
	height: 100%;
	text-align: center;
	right: 50%
}

.aggregateBox {
	padding: 0 10px;
	height: 80px;
	background: #fff
}

.aggregateBox ul li {
	-webkit-box-flex: 1;
	width: 0;
	color: #8c8c8c
}

.winColor {
	color: #fe0000
}

.pinColor {
	color: #2279e2
}

.loseColor {
	color: #2ea00d
}

.aggreRuning,.weijieColor {
	color: #333
}

.aggregateBox>div {
	position: relative
}

.aggregateBox>div>div {
	position: absolute;
	line-height: 39px
}

.aggregateBox>div div:first-child {
	left: 30px
}

.aggregateBox>div div:last-child {
	right: 30px
}

.aggregateBox ul {
	border-bottom: 1px solid #d9d9d9;
	display: box;
	display: -webkit-box;
	text-align: center;
	height: 40px;
	line-height: 40px
}

@media screen and (-webkit-min-device-pixel-ratio:2) {
	.aggregateBox ul {
		border: 0;
		background-position: left bottom;
		background-repeat: repeat-x;
		background-size: 100% 1px;
		background-image: -webkit-gradient(linear,left top,left bottom,color-stop(.5,transparent),color-stop(.5,#d9d9d9),to(#d9d9d9))
	}
}

.no_beam {
	padding-top: 100px
}

@media only screen and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3) {
@-webkit-keyframes sureY {
		0%{-webkit-transform: translateY(0)
	}

	100% {
		-webkit-transform: translateY(-56px)
	}
}

@-webkit-keyframes sureN {
	0% {
		-webkit-transform: translateY(-56px)
	}

	100% {
		-webkit-transform: translateY(0)
	}
}
#sureShare {
	bottom: -56px;
	height: 56px
}}
</style>
<div style="margin-bottom:45px">
    <div class="pageBox">
        <!--<div class="shareText_top hide">分享您的订单，即可参与iPhone7大抽奖</div>-->
        <ul class="bet_nav" style="margin:0;border-bottom:1px solid #eee">
            <!--<li id="bet_JQ" class="on"><span>近期投注</span></li>-->
            <li id="bet_LS" class="on"><span>已结投注</span></li>
            <li id="bet_WJ"><span>未结投注</span></li>
        </ul>
    </div>
    <div class="bet_section">
        <div class="bet_JQ">
            <ul class="JQ_nav subnav-list">
                <li class="times on">按时间</li>
                <li class="numbers">按场次</li>
            </ul>
            <div class="JQ_section" id="bet_con">
                <div class="section_time s_time">
                    <div class="no_beam bColor hide"><div class="record-no"></div><span>大爷好久没来了，一分钱都没赚哦...</span><a class="no-enter" href="#page=prePlayList.html">去玩两把！</a></div>
                </div>
                <div class="section_number hide">
                    <div class="no_beam bColor hide"><div class="record-no"></div><span>大爷好久没来了，一分钱都没赚哦...</span><a class="no-enter" href="#page=prePlayList.html">去玩两把！</a></div>
                </div>
            </div>
        </div>
        <div class="bet_WJ hide">
            <div class="WJ_section">
                <div class="section_time" data-curpage="1">

                </div>
                <div class="loadMore hide" id="More_W">查看更多记录</div>
            </div>
            <div class="no_beam bColor hide"><div class="record-no"></div><span>大爷好久没来了，一分钱都没赚哦...</span><a class="no-enter" href="#page=prePlayList.html">去玩两把！</a></div>
        </div>
        <div class="bet_LS hide">
            <ul class="LS_date">
                <li class="LS_begin">
                    从
                    <b class="icon calendar"></b>
                    <input type="text" class="LS_input" id="his_date_start" onclick="(new Calendar).show(this)" readonly="readonly">
                </li>
                <li class="LS_end">
                    至
                    <b class="icon calendar"></b>
                    <input type="text" class="LS_input" id="his_date_end" onclick="(new Calendar).show(this)" readonly="readonly">
                </li>
                <li class="LS_search">
                    <span class="btn_search">查&nbsp;&nbsp;询</span>
                </li>
            </ul>
            <div class="aggregateBox">
                <ul>
                    <li>
                        <span class="win">0</span>
                        <span class="winColor">胜</span>
                    </li>
                    <li>
                        <span class="pin">0</span>
                        <span class="pinColor">平</span>
                    </li>
                    <li>
                        <span class="lose">0</span>
                        <span class="loseColor">负</span>
                    </li>
                    <li>
                        <span class="weijie">0</span>
                        <span class="weijieColor">未结</span>
                    </li>
                </ul>
                <div>
                    <div>
                        <span>盈亏:</span>
                        <span class="sharesMoney winColor">0</span>
                    </div>
                    <div>
                        <span>有效流水:</span>
                        <span class="aggreRuning">0</span>
                    </div>
                </div>
            </div>
            <div class="LS_section">
                <div class="section_time" data-curpage="1">

                </div>
                <div class="loadMore hide" id="More_L">查看更多记录</div>
            </div>
            <div class="no_beam bColor hide"><div class="record-no"></div><span>大爷好久没来了，一分钱都没赚哦...</span><a class="no-enter" href="#page=prePlayList.html">去玩两把！</a></div>
            <div class="htm_bottom">
                <p style="margin-bottom:5px"><b class="icon yek"></b>最多只提供近三个月的投注记录查询</p>
                <!--<p>Copyrights(c) 2015</p>-->
            </div>
        </div>
    </div>
</div>
<div id="sureShare">
   (<span id="shareCount">0</span>/<span class="maxCount">20</span>)
        确定分享
</div>
<div class="mask hide" id="helpMask"></div>
<div id="helpShare" class="helpShare hide">
    <div class="know"></div>
</div>

    
    
        
        
        
    
    
        
        
        
    
    

<div id="__calendarPanel" style="position:absolute;display:none;z-index:9999;border:1px solid #666;width:96%;left:2%;right:2px;height:295px;top:147px;background-color:#fff">
    <iframe name="__calendarIframe" id="__calendarIframe" width="100%" height="100%" scrolling="no" frameborder="0" style="margin:0"></iframe>
</div>
<script>
function getBeforeDate(e) {
	var e = e,
		t = new Date,
		a = t.getFullYear(),
		i = t.getMonth() + 1,
		n = t.getDate();
	return n <= e && (i > 1 ? i -= 1 : (a -= 1, i = 12)), t.setDate(t.getDate() - e), a = t.getFullYear(), i = t.getMonth() + 1, n = t.getDate(), s = a + "-" + (i < 10 ? "0" + i : i) + "-" + (n < 10 ? "0" + n : n), s
}
function initDate() {
	$("input#his_date_start").val(getBeforeDate(7)), $("input#his_date_end").val(getBeforeDate(0))
}
function dateCompare(e, t) {
	var a = e.split("-"),
		s = new Date(a[0], a[1], a[2]),
		i = s.getTime(),
		n = t.split("-");
	return i > new Date(n[0], n[1], n[2]).getTime()
}
function getInData(e, t, a, s) {
	T.Util.xmlHttpRequest({
		type: "get",
		reqUrl: "/web/services/order/matchGroup/" + e + ".json?token=" + T.Storage.get("access_token") + "&cur_page=" + cur_page_cc + "&per_page_num=" + per_page_num,
		callback: function(s) {
			var i = s.res_data;
			$("#" + e).append(BetDetailInit.doHtml(i, t, a, s.is_end)).show(), initShareFn(), "0" == $('ul[data-mid="' + e + '"]').data("flag") && $('ul[data-mid="' + e + '"]').parent().attr("data-page", cur_page_cc++), $('ul[data-mid="' + e + '"]').data("flag", "0").find(".time_up").removeClass().addClass("time_down"), $("#" + e).find("#loadMore").off().Touch(function(s) {
				var i = parseInt($(s).parent().parent().attr("data-page"));
				cur_page_cc = i + 1, "dg" == $(s).data("type") ? ($(s).prev().remove(), getInData(e, t, a)) : getInData(e, t, a, "cg"), $(s).remove()
			}), BetDetailInit.addItemExpand()
		},
		errorCallback: function() {}
	})
}
function getDayMatch(e, t) {
	reqUrl = "/web/services/order/orderInfo?token=" + T.Storage.get("access_token") + "&expect=" + e + "&cur_page=" + cur_page + "&type=" + beamType + "&per_page_num=" + per_page_num + "&order=1", T.Util.xmlHttpRequest({
		type: "get",
		reqUrl: reqUrl,
		callback: function(a) {
			var s = [],
				i = a.res_data.value[0].itemBean,
				n = a.res_data.value[0].isEnd,
				r = a.res_data.value[0];
			s.length = 0, function() {
				for (q in i) {
					var e = i[q].info;
					"1" == i[q].isFlag && e.contentList.length > 0 ? s.push(T.betInfoHtml.fillSignBetInfo(e)) : e.contentList.length > 0 && s.push(T.betInfoHtml.fillGroupBetInfo(e))
				}
			}(), $("#" + e).remove();
			var o = 0 == r.PRIZE_MONEY && 0 == r.p_money ? "--" : r.PRIZE_MONEY,
				l = 0 == r.PRIZE_MONEY && 0 == r.p_money ? "--" : r.p_money; - 1 != ("" + o).indexOf(".") && (o = ("" + o).substring(0, ("" + o).indexOf("."))), -1 != ("" + l).indexOf(".") && (l = ("" + l).substring(0, ("" + l).indexOf("."))), 1 == r.isBalanced ? s.push('<div class="TZ_box3" id="' + e + '">*共' + r.count + "单, 总投注" + T.Util.parseNumber(r.ITEM_MONEY) + ", 有效流水" + $(".TZ_listBox[data-time='" + e + "']").attr("data-run") + ", 盈利" + T.Util.parseNumber(l) + "。</div>") : s.push('<div class="TZ_box3" id="' + e + '">*共' + r.count + "单, 总投注" + T.Util.parseNumber(r.ITEM_MONEY) + ", 有效流水" + $(".TZ_listBox[data-time='" + e + "']").attr("data-run") + ", 当前盈利" + T.Util.parseNumber(l) + "。</div>"), "1" == n && s.push('<div class="loadMore" id="loadMore">查看更多记录</div>'), t.next().append(s.join("")).show(), t.data("flag", "0").find(".time_up").removeClass().addClass("time_down"), t.next().find("#loadMore").off().Touch(function(e) {
				var a = parseInt($(e).parent().parent().attr("data-page"));
				cur_page = a + 1, getDayMatch(t.parent().attr("data-time"), t), $(e).parent().parent().attr("data-page", cur_page), $(e).remove(), "2" == n && $(e).remove()
			}), initShareFn(), s.length = 0
		},
		errorCallback: function() {}
	})
}
function closeBeforeBack() {
	T.Util.isEmpty(T.Util.getPara("from")) || "noteEditor" != T.Util.getPara("from") || T.Storage.set("fromBetDetail", "1")
}
var isFromNoteEditor = null,
	shareMaxOrder = 20;
T.betClubInfo = {
	getBetResultByStatus: function(e, t) {
		var a, s = "";
		return 110 == e ? (s = t ? "返还 " + t.PRIZE_MONEY : "", a = "赢") : -100 == e ? (s = "未中奖", a = "输") : e > 199 ? (s = t ? "返还" + t.ITEM_MONEY : "", a = "金币返还") : -5 == e ? (s = "金币返还中", a = "订单取消") : -10 == e ? (s = t ? "金币返还  " + t.ITEM_MONEY : "", a = "订单取消") : 0 == e ? (s = t ? "预计返还  " + t.ITEM_INFO[0].CLIENT_PROPERTIES.split("|")[2] : "", a = "订单确认中") : 120 == e ? (s = t ? "返还  " + t.PRIZE_MONEY : "", a = "走盘") : 130 == e ? (s = t ? "返还  " + t.PRIZE_MONEY : "", a = "输半") : 140 == e ? (s = t ? "返还 " + t.PRIZE_MONEY : "", a = "赢半") : 100 == e ? (s = t ? "预计返还  " + t.ITEM_INFO[0].CLIENT_PROPERTIES.split("|")[2] : "", a = "结算中") : (s = t ? "预计返还  " + t.ITEM_INFO[0].CLIENT_PROPERTIES.split("|")[2] : "", a = "待开奖"), [a, T.Util.parseNumber(s)]
	},
	fillSignBetInfo: function(e, t, a) {
		var s, i, n, r, o, l, d, p = e.ITEM_INFO[0],
			m = p.CLIENT_PROPERTIES,
			c = m.split("|")[1].split("vs"),
			h = "",
			u = "",
			_ = [],
			g = [],
			f = [];
		4 == m.split("|").length && (h = "<span>( 当前比分 " + m.split("|")[3] + " )</span>"), s = m.split("|")[0], i = p.MATCH_ODDS, hName = c[0].trim().substr(0, 4), gName = c[1].trim().substr(0, 4), isGoald = "20" == p.PLAY_TYPE, n = new Date(p.MATCH_TIME).format("hh:mm"), o = playtypeObj[p.PLAY_ID].name, l = T.Util.parseNumber(e.ITEM_MONEY), d = e.ITEM_ID, r = new Date(e.CRT_TIME).format("YYYY-MM-dd hh:mm:ss"), u = 1 == p.IS_INPLAY ? " <span>&nbsp;&nbsp;赛前</span>" : ' <span class="TZ_green">&nbsp;&nbsp;滚球</span>';
		var $ = "",
			v = T.betClubInfo.getBetResultByStatus(e.ITEM_STATUS, e)[0];
		"待开奖" == v || "订单确认中" == v ? ($ = "TZ_white", _.push('<span class="TZ_white">' + v + "</span>"), _.push("</p></div><div>回报 : <span>" + i + '</span>倍</div><div class="TZ_beting Color" style="color:#333;font-weight:bold;">投注金币 : <span>' + l + "</span>"), _.push('<p class="floatR"><span>' + T.betClubInfo.getBetResultByStatus(e.ITEM_STATUS, e)[1] + "</span></p>")) : v.indexOf("赢") > -1 ? (_.push('<span style="color:#ff0000;font-size:14px;font-weight:bold;">' + v + "</span>"), _.push("</p></div><div>回报 : <span>" + i + '</span>倍</div><div class="TZ_beting Color" style="color:#333;font-weight:bold;">投注金币 : <span>' + l + "</span>"), _.push('<p class="floatR TZ_yellow"><span>' + T.betClubInfo.getBetResultByStatus(e.ITEM_STATUS, e)[1] + "</span></p>")) : v.indexOf("输") > -1 ? (_.push('<span style="color:#309f0e;font-size:14px;font-weight:bold;">' + v + "</span>"), _.push("</p></div><div>回报 : <span>" + i + '</span>倍</div><div class="TZ_beting Color" style="color:#333;font-weight:bold;">投注金币 : <span>' + l + "</span>"), _.push('<p class="floatR"><span>' + T.betClubInfo.getBetResultByStatus(e.ITEM_STATUS, e)[1] + "</span></p>")) : (_.push('<span style="color:#333;font-size:14px;font-weight:bold;">' + v + "</span>"), _.push("</p></div><div>回报 : <span>" + i + '</span>倍</div><div class="TZ_beting Color" style="color:#333;font-weight:bold;">投注金币 : <span>' + l + "</span>"), _.push('<p class="floatR"><span>' + T.betClubInfo.getBetResultByStatus(e.ITEM_STATUS, e)[1] + "</span></p>"));
		var b = "",
			y = "";
		isGoald && "5" == p.STATUS_ID ? (y = void 0 === p.HOME_GOAL_NUM ? "vs" : p.HOME_GOAL_NUM + ":" + p.AWAY_GOAL_NUM, b = hName + " " + p.HOME_GOAL_NUM + " : " + p.AWAY_GOAL_NUM + " " + gName) : isGoald || "3" != p.STATUS_ID && "4" != p.STATUS_ID && "5" != p.STATUS_ID ? y = "vs" : (y = p.FH_HOME_GOAL_NUM + ":" + p.FH_AWAY_GOAL_NUM, b = hName + " " + p.FH_HOME_GOAL_NUM + " : " + p.FH_AWAY_GOAL_NUM + " " + gName);
		var M = {
			htName: hName,
			gtName: gName,
			itemMoney: l,
			playName: o,
			betDate: r,
			statusStr: v,
			prizeMoney: e.PRIZE_MONEY,
			shareScore: b,
			retInfo: T.betInfoHtml.getBetResultByStatus(e.ITEM_STATUS, e),
			orderId: d
		};
		return f.push("<span>" + hName + '</span><span class="Color"> ' + y + " </span><span>" + gName + "</span>"), g.push('<div class="TZ_list" style="position: relative" data-mid="' + p.MATCH_ID + '" data-status = "' + p.STATUS_ID + '" data-rid="' + t + '" data-code="' + a + '"><b class="seleBox hide" data-itemid = "' + d + '" data-matchid = "' + p.MATCH_ID + '" data-share = "' + JSON.stringify(M).replace(/"/g, "'") + '"><i class="selectNo hide" style="display:none"></i></b><div class="TZ_box1"><div class="TZ_sty Color"><span class="' + $ + '" style="color:#333;font-size:14px;font-weight:bold;"><span class="betContent">' + s + "</span>&nbsp;&nbsp;</span>" + h + '<p class="floatR Color" style="font-size:12px;font-weight:normal;"><span>' + o + " </span>" + u + '</p></div><div class="TZ_tim Color"><span>' + f.join("") + "&nbsp;" + n + '</span><p class="floatR" style="margin-top:12px;">' + _.join("") + '</div></div><div class="TZ_box2"><div class="Color">订单号: <span>' + d.substring(0, 15) + '</span><p class="floatR"><span>' + r + "</span></p></div></div></div>"), g.join("")
	}
};
var isSearch = !0,
	cur_page = 1,
	reqUrl = "",
	code_page = 1,
	per_page_num = 10,
	cur_page_cc = 0,
	isCount = !0,
	curJQ = !1,
	page = 0,
	curTimesIsJQ = !1,
	beamType = "1",
	dropLoad = "";
pageFrom = "betDetail.html", $(".sq_headerText").html("投注记录"), 

//$(".shareText_top").off().Touch(function() {
//	T.Util.isEmpty(T.Storage.get("access_token")) ? T.Util.login() : T.Util.openWindow(T.Util.getRootPath() + "/" + Global.webRoot + "/game/shareLottery.html?pageFrom=betDetail.html")
//}),
$(".bet_nav li").Touch(function(e) {
	$(e).addClass("on").siblings().removeClass("on")
}), $(".JQ_nav li").Touch(function(e) {
	$(e).addClass("on").siblings().removeClass("on")
}), $(".bet_JQ .times").Touch(function() {
	$(".JQ_section>.section_time").removeClass("hide").siblings().addClass("hide")
}), $(".bet_JQ .numbers").Touch(function() {
	$(".JQ_section>.section_number").removeClass("hide").siblings().addClass("hide")
});
var doMoneyParse = function(e) {
		(e + "").indexOf(",") > -1 && (e = parseInt(e.replace(/,/g, "").trim()));
		var t = e;
		return e > 1e4 && (t = Math.round(e / 1e4 * 100) / 100 + "万"), e > 1e8 && (t = Math.round(e / 1e8 * 100) / 100 + "亿"), t
	};
$(".know").off().Touch(function() {
	$("#helpMask").hide(), $("#helpShare").hide(), document.documentElement.style.overflow = "", T.Storage.set("helpShare", "1")
}), $("#bet_JQ").Touch(function() {
	$("#__calendarPanel").hide(), $(".no_beam").hide(), $(".bet_JQ").show().siblings().hide(), $(".bet_JQ .times").addClass("on").siblings().removeClass("on"), $(".JQ_section .section_time").removeClass("hide").siblings().addClass("hide"), beamType = "1", cur_page = 1, curJQ || ($("#loading-new").show(), BetDetailInit.getScore(beamType))
}), $("#bet_WJ").Touch(function() {
	$("#__calendarPanel").hide(), $(".no_beam").hide(), $(".bet_WJ").show().siblings().hide(), beamType = "2", cur_page = 1, $("#loading-new").show(), BetDetailInit.getScore(beamType)
}), $("#bet_LS").Touch(function() {
	$("#__calendarPanel").hide(), $(".no_beam").hide(), $(".bet_LS").show().siblings().hide(), beamType = "3", initDate(), cur_page = 1, $("#loading-new").show(), BetDetailInit.getScore(beamType)
}), $(".btn_search").Touch(function() {
	isSearch || ($(".LS_section .section_time").attr("data-curpage", "1"), cur_page = 1);
	beamType = "3", BetDetailInit.getScore(beamType, 1)
}), $(".no-enter").off().Touch(function() {
	T.Util.goGame()
});
var detailRuning = function(e, t) {
		T.Util.xmlHttpRequest({
			type: "get",
//			reqUrl: "/web/services/order/aggregate?token=" + T.Storage.get("access_token") + "&startDate=" + e + "&endDate=" + t,
			reqUrl: "/tp5/api/?s=activity/football/getBetSummary&uid=" + T.Storage.get("uid") + "&startDate=" + e + "&endDate=" + t,
			callback: function(e) {
				if (e.res_data && e.res_data.value) {
					var t = e.res_data.value;
					$(".win").html(t.win_count), $(".lose").html(t.negative_count), $(".pin").html(t.all_count), $(".weijie").html(t.not_count), $(".aggreRuning").html(T.Util.parseNumber(parseInt(t.cost))), t.profit >= 0 ? ($(".sharesMoney").removeClass("loseColor").addClass("winColor"), t.profit > 0 ? $(".sharesMoney").html("+" + T.Util.parseNumber(parseInt(t.profit))) : $(".sharesMoney").html(t.profit)) : ($(".sharesMoney").removeClass("winColor").addClass("loseColor"), $(".sharesMoney").html(T.Util.parseNumber(parseInt(t.profit))))
				} else $(".win").html(0), $(".lose").html(0), $(".pin").html(0), $(".weijie").html(0), $(".aggreRuning").html(0), $(".sharesMoney").html(0), $(".sharesMoney").removeClass("loseColor").addClass("winColor")
			},
			errorCallback: function() {}
		})
	},
	initShareFn = function(e) {
		return;
		if (e && ($("#sureShare").removeClass().addClass("sureN"), $("#shareDetailBtn").find("i").addClass("shareImg").html(""), $(".seleBox").addClass("hide"), $(".TZ_box1").attr("style", "").next().attr("style", ""), $(".TZ_listBeam").attr("style", ""), $(".TZ_listBeamEnd").attr("style", ""), $("#shareCount").html("0"), $(".seleBox").find("i.selectYes").removeClass("selectYes").addClass("selectNo hide"), $(".bet_section").css("padding-top", "40px"), $(".shareText_top").addClass("hide")), $("i.selectYes").length ? ($("i.selectYes").length > shareMaxOrder ? $("#shareCount").html(shareMaxOrder) : $("#shareCount").html($("i.selectYes").length), $("#sureShare").removeClass("out").addClass("on")) : ($("#shareCount").html(0), $("#sureShare").removeClass("on").addClass("out")), $("#shareDetailBtn").find("i").hasClass("shareImg")) $(".seleBox").addClass("hide"), $(".TZ_box1").attr("style", "").next().attr("style", ""), $(".TZ_listBeam").attr("style", ""), $(".TZ_listBeamEnd").attr("style", "");
		else {
			var t = $(".seleBox");
			$.each(t, function(e, t) {
				$(t).attr("data-stype");
				$(t).removeClass("hide")
			}), $(".TZ_box1").attr("style", "margin-left:10%").next().attr("style", "margin-left:11%"), $(".TZ_listBeam").attr("style", "margin-left:7%"), $(".TZ_listBeamEnd").attr("style", "padding-left:6%")
		}
		$(".seleBox").off().Touch(function() {
			if ($(this).parent().hasClass("TZ_manyBeam") && isFromNoteEditor) return void tip("暂不能分享串关");
			$(this).find("i").hasClass("selectNo") && $("i.selectYes").length < shareMaxOrder ? $(this).find("i").removeClass("selectNo").addClass("selectYes hide") : (($("i.selectYes").length > shareMaxOrder || $(this).find("i").hasClass("selectNo")) && tip("一次最多分享" + shareMaxOrder + "个订单!", "warn"), $(this).find("i").removeClass("selectYes").addClass("selectNo hide")), $("i.selectYes").length ? ($("i.selectYes").length > shareMaxOrder ? $("#shareCount").html(shareMaxOrder) : $("#shareCount").html($("i.selectYes").length), $("#sureShare").removeClass("out").addClass("on")) : ($("#shareCount").html(0), $("#sureShare").removeClass("on").addClass("out"))
		}), $(".TZ_list,.TZ_listBeam").off().Touch(function() {
			if ($("#shareDetailBtn i").hasClass("shareImg") && "block" != $(".seleBox").css("display")) {
				var e = $(this).attr("data-mid"),
					t = $(this).attr("data-status"),
					a = ($(this).attr("data-rid"), $(this).attr("data-code"), $(this).attr("data-stype"));
				$(this).attr("data-obj");
				
				( typeof(openUrl)=='function' ? openUrl('足球',window.location.origin+"/game/#page=prePlay.html&m_id=" + e) : window.location.href = "#page=prePlay.html&m_id=" + e);
//				if (T.isNative && Global.isAndroid && lib.nativeApi.compareVersion("2.4.1") || Global.isiOS && lib.nativeApi.compareVersion("2.3.1")) if ("BB" == a) if (T.isNative && lib.nativeApi.compareJSSDKVersion("1.0.1")) api.openPlayGame({
//					m_id: e,
//					sType: "BB"
//				}, function() {});
//				else if (t > 0) T.Util.openWindow(T.Util.getRootPath() + "/" + Global.webRoot + "/game/basketPlay.html?m_id=" + e + "&pType=3");
//				else {
//					if (-1 == t) return;
//					T.Util.openWindow(T.Util.getRootPath() + "/" + Global.webRoot + "/game/basketPlay.html?m_id=" + e)
//				} else api.openPlayGame({
//					m_id: e
//				}, function() {});
//				else if ("BB" == a) if (t > 0) T.Util.openWindow(T.Util.getRootPath() + "/" + Global.webRoot + "/game/basketPlay.html?m_id=" + e + "&pType=3");
//				else {
//					if (-1 == t) return;
//					T.Util.openWindow(T.Util.getRootPath() + "/" + Global.webRoot + "/game/basketPlay.html?m_id=" + e)
//				} else 1 == t || 6 == t || 7 == t || 12 == t ? ($("#main").removeClass("main_b"), T.Util.openWindow(T.Util.getRootPath() + "/" + Global.webRoot + "/game/index.html#page=prePlay.html&m_id=" + e)) : T.Util.openWindow(T.Util.getRootPath() + "/" + Global.webRoot + "/game/index.html#page=inPlay_new.html&m_id=" + e)
			}
		})
	};
$("#sureShare").off().Touch(function() {
	if ($(this).hasClass("on")) {
		var e = "",
			t = "",
			a = 0,
			s = 0,
			i = "",
			n = 0,
			r = 0,
			o = !1,
			l = 0,
			p = [],
			m = !1,
			c = !1;
		if ($("i.selectYes").length) {
			if (isFromNoteEditor) {
				var h = $($("i.selectYes").get(0)).parent(),
					u = JSON.parse($(h).attr("data-share").replace(/'/gi, '"')),
					_ = 2,
					e = $(h).attr("data-itemid"),
					g = {
						token: T.Storage.get("access_token"),
						data: {
							itemIds: e,
							isSite: _
						}
					};
				return void T.Util.xmlHttpRequest({
					reqUrl: "/web/services/order/items/share.json",
					type: "post",
					reqData: g,
					callback: function(e) {
						var t = e.res_data.value;
						u.shareIds = t, T.Storage.set("noteShareOrderInfo", u), T.Util.back()
					},
					errorCallback: function() {}
				})
			}
			$("i.selectYes").each(function(t, h) {
				if (e += $($("i.selectYes")[t].parentNode).attr("data-itemid") + ",", $($("i.selectYes")[0].parentNode).attr("data-matchid") == $($("i.selectYes")[t].parentNode).attr("data-matchid") && $($("i.selectYes")[t].parentNode).attr("data-matchid").indexOf(",") < 0 && s++, p.push($($("i.selectYes")[t].parentNode).attr("data-matchid")), $("i.selectYes").length > 1 || $("i.selectYes").parent().attr("data-matchid").indexOf(",") > -1) {
					var u = JSON.parse($($("i.selectYes")[t].parentNode).attr("data-share").replace(/'/g, '"'));
					$($("i.selectYes")[t].parentNode).attr("data-matchid").indexOf(",") < 0 ? (l++, u.itemMoney = parseInt(u.itemMoney.replace(/,/g, "")), n += u.itemMoney, -1 != u.statusStr.indexOf("待开奖") || -1 != u.statusStr.indexOf("订单确认中") || -1 != u.statusStr.indexOf("走盘") ? o = !0 : -1 != u.statusStr.indexOf("赢") ? (r += parseInt(u.prizeMoney), a++, c = !0) : m = !0) : (l += u.number, n += parseInt(u.buyMoney), -1 != u.prizeMoneyAndStatus.indexOf("预计返还") ? o = !0 : -1 != u.prizeMoneyAndStatus.indexOf("返还") ? (u.prizeMoneyAndStatus = parseInt(u.prizeMoneyAndStatus.replace("返还", "").replace(/,/g, "").trim()), r += u.prizeMoneyAndStatus, a++, c = !0) : m = !0);
					for (var _ = 0, g = []; _ < p.length; _++) if (p[_].indexOf(",") > 0) for (var f = p[_].split(","), v = 0; v < f.length; v++) g.push(f[v]);
					else g.push(p[_]);
					var b = [],
						y = [];
					for (d in g) y[g[d]] || (b.push(g[d]), y[g[d]] = !0);
					if (o || m && c) i = 1 == b.length ? u.htName + "VS" + u.gtName + "这场比赛,我豪掷" + doMoneyParse(n) + "金币参与竞猜|我玩得那么爽，还不来跟我下一注" : "这" + b.length + "场比赛，我豪掷" + doMoneyParse(n) + "金币参与竞猜|我玩得那么爽，还不来跟我下一注";
					else if (a == $("i.selectYes").length) {
						var M = "看看具体投注内容。";
						!T.Util.isEmpty(r) && r > 0 && (M = "累计盈利" + doMoneyParse(r) + "，问你服不服！"), i = 1 == b.length ? u.htName + "VS" + u.gtName + "这场比赛," + M + "|听说你是真球迷，敢不敢来和我PK一下" : b.length + "场比赛竞猜，" + M + "|听说你是真球迷，敢不敢来和我PK一下"
					} else i = 1 == b.length ? u.htName + "VS" + u.gtName + "这场比赛竞猜全挂了," + doMoneyParse(n) + "金币全打水漂|黑成狗也不能停止战斗！" : b.length + "场比赛竞猜全挂了，" + doMoneyParse(n) + "金币全打水漂|黑成狗也不能停止战斗！"
				}
			});
			var _ = 2;
			s == $("i.selectYes").length && e.split(",").length <= 4 && (t = $($("i.selectYes")[0].parentNode).attr("data-matchid"), _ = 1), e = e.substr(0, e.length - 1);
			var g = {
				token: T.Storage.get("access_token"),
				data: {
					itemIds: e,
					isSite: _
				},
				time: (new Date).getTime()
			};
			T.Util.xmlHttpRequest({
				reqUrl: "/web/services/order/items/share.json",
				type: "post",
				reqData: g,
				callback: function(e) {
					var a = {
						shareIds: e.res_data.value
					};
					if (1 == $("i.selectYes").length && $("i.selectYes").parent().attr("data-matchid").indexOf(",") < 0 && T.Util.xmlHttpRequest({
						reqUrl: "/web/services/order/itemIds.json",
						type: "post",
						errorType: "1",
						reqData: a,
						callback: function(e) {
							var s = JSON.parse($("i.selectYes").parent().attr("data-share").replace(/'/g, '"'));
							if ("待开奖" == s.statusStr || "订单确认中" == s.statusStr) {
								var n = "";
								!T.Util.isEmpty(e.res_data.value[0].ALL_PROFIT) && doMoneyParse(e.res_data.value[0].ALL_PROFIT) > 0 && (n = "我累计中奖" + doMoneyParse(e.res_data.value[0].ALL_PROFIT) + "金币，"), i = s.htName + "VS" + s.gtName + ",我豪掷了" + doMoneyParse(s.itemMoney) + "金币参与竞猜，敢来PK吗？" + n + "|不是针对谁，你敢跟我来一注？"
							} else if (s.statusStr.indexOf("赢") > -1) {
								var n = "看看具体投注内容。";
								!T.Util.isEmpty(s.prizeMoney) && s.prizeMoney > 0 && (n = "我竞猜盈利" + doMoneyParse(s.prizeMoney) + "，"), i = s.shareScore + "," + n + "你行吗？|就是这么牛，实力摆在这，求虐求挑战"
							} else i = s.statusStr.indexOf("输") > -1 ? s.shareScore + ",这场黑成狗," + doMoneyParse(s.itemMoney) + "都打水漂了|黑一场又如何，下场你敢和我PK？" : s.shareScore + "，无惊无险，安全走水|这场没输，下场一定红";
							var r = {
								itemId: a.shareIds,
								matchId: t,
								isGame: !0,
								obj_type: "order",
								obj_id: a.shareIds,
								title: i.split("|")[0],
								text: i.split("|")[1]
							};
							"BB" == $("i.selectYes").parent().attr("data-stype") && (r.sType = "BB"), T.isNative && api.share(r, function(e) {
								initShareFn("1")
							})
						},
						errorCallback: function(e) {
							tip(e.msg || e.result_msg)
						}
					}), $("i.selectYes").length > 1 || $("i.selectYes").parent().attr("data-matchid").indexOf(",") > -1) {
						for (var s = {
							itemId: e.res_data.value,
							matchId: t,
							isGame: !0,
							obj_type: "order",
							obj_id: e.res_data.value,
							title: i.split("|")[0],
							text: i.split("|")[1]
						}, n = $("i.selectYes"), r = 0; r < n.length; r++)"BB" == $(n[r]).parent().attr("data-stype") && (s.sType = "BB");
						T.isNative && api.share(s, function(e) {
							initShareFn("1")
						})
					}
				},
				errorCallback: function() {}
			})
		}
	} else tip("请选择要分享的订单", "warn")
});
var BetDetailInit = function() {
		function e(e) {
			reqUrl = "/web/services/order/matchGroup.json?token=" + T.Storage.get("access_token") + "&cur_page=" + page + "&per_page_num=10";
			var a = [],
				s = "",
				i = "";
			T.Util.xmlHttpRequest({
				type: "get",
				reqUrl: reqUrl,
				callback: function(e) {
					$("#loading-new").hide();
					var n = e.res_data;
					if (n && "" != n ? $(".section_number .no_beam").hide() : $(".section_number .no_beam").show(), n.length > 0) {
						for (var r, o, l, d = "", p = "", m = "", c = 0, h = n.length; c < h; c++) {
							var u = "-- : --",
								_ = 'data-flag="1"';
							s = n[c].htName.substring(0, 3), i = n[c].gtName.substring(0, 3), r = n[c].matchTime, m = n[c].isBalanced, isCount ? (isCont = !1, p = n[0].orderItemCount, o = n[0].itemMoney, l = n[0].prizeMoney, d = n[0].profitMoney) : (p = n[c].orderItemCount, o = n[c].itemMoney, l = n[c].prizeMoney, d = n[c].profitMoney), n[c].matchTime && (u = new Date(n[c].matchTime).format("hh:mm")), 0 == c ? (_ = 'data-flag="0"', a.push('<div class="TZ_listBox" data-page="0">                                                        <ul data-mid="' + n[c].matchId + '" class="time_list time_first" ' + _ + '  data-hName="' + s + '" data-gName="' + i + '" data-time="' + n[c].matchTime + '" balanced="' + m + '" orderItemCount="' + n[c].orderItemCount + '" prizeMoney="' + n[c].prizeMoney + '"  itemMoney="' + n[c].itemMoney + '"  profitMoney="' + n[c].profitMoney + '" >                                                        <li class="timeL">                                                        <div class="left" style="margin-left:1px;">                                                        <span>' + n[c].leagueName.substring(0, 3) + "</span>                                                        <span>" + u + '</span>                                                        </div>                                                        </li>                                                        <li class="timeC">                                                        <span class="number_color left hName">' + s + "</span>")) : a.push('<div class="TZ_listBox" data-page="0">                                                        <ul data-mid="' + n[c].matchId + '" class="time_list" ' + _ + '  data-hName="' + s + '" data-gName="' + i + '" data-time="' + n[c].matchTime + '" balanced="' + m + '" orderItemCount="' + n[c].orderItemCount + '" prizeMoney="' + n[c].prizeMoney + '"  itemMoney="' + n[c].itemMoney + '"  profitMoney="' + n[c].profitMoney + '" >                                                        <li class="timeL">                                                        <div class="left" style="margin-left:1px;">                                                        <span>' + n[c].leagueName.substring(0, 3) + "</span>                                                        <span>" + u + '</span>                                                        </div>                                                        </li>                                                        <li class="timeC">                                                        <span class="number_color left hName">' + s + "</span>");
							var g = n[c].homeScore + "",
								f = n[c].guestScore + "";
							g = 1 == g.length ? " " + g : g, f = 1 == f.length ? f + " " : f, "5" == n[c].matchStatus ? a.push('<span class="vs"> ' + g + ":" + f + " </span>") : "-1" == n[c].matchStatus ? a.push('<span class="vs" style="font-size: 13px;"> ' + g + ":" + f + " </span>") : a.push('<span class="Color vs"> vs </span>'), a.push('<span class="number_color right gName">' + i + '</span>                                                        </li>                                                        <li class="timeR">                                                        <span>&nbsp;</span>'), 0 == c ? (a.push(' <b class="time_down"></b></li> </ul><div class="number_listContent" id="' + n[c].matchId + '">'), a.push(BetDetailInit.doHtml(n[c].orderItemInfoList, {
								hName: s,
								gName: i,
								matchTime: n[c].matchTime
							}, {
								isBalanced: m,
								orderItemCount: n[c].orderItemCount,
								itemMoney: n[c].itemMoney,
								prizeMoney: n[c].prizeMoney,
								profitMoney: n[c].profitMoney,
								Status: n[c].matchStatus,
								hScore: n[c].homeScore,
								gScore: n[c].guestScore,
								itemcount: n[0].orderItemCount
							}))) : a.push(' <b class="time_up"></b></li> </ul><div class="number_listContent hide" id="' + n[c].matchId + '">'), a.push("</div></div></div></div>")
						}
						$(".JQ_section .section_number").html(a.join("")), initShareFn(), $("#" + n[0].matchId).find("#loadMore").Touch(function(e) {
							var t = parseInt($(e).parent().parent().attr("data-page"));
							cur_page_cc = t + 1, "dg" == $(e).data("type") ? ($(e).prev().remove(), getInData(n[0].matchId, {
								hName: s,
								gName: i,
								matchTime: r
							}, {
								isBalanced: m,
								orderItemCount: p,
								itemMoney: o,
								prizeMoney: l,
								profitMoney: d
							})) : getInData(n[0].matchId, {
								hName: s,
								gName: i,
								matchTime: r
							}, {
								isBalanced: m,
								orderItemCount: p,
								itemMoney: o,
								prizeMoney: l,
								profitMoney: d
							}, "cg"), $(e).remove()
						}), a.length = 0, t()
					}
				},
				errorCallback: function() {}
			})
		}
		var t = function() {
				return;
				$(".section_time .time_list,.section_number .time_list").off().Touch(function(e) {
					var t = $(e).siblings();
					$(e).hasClass("time_first") ? $(e).removeClass("time_first") : $(e).addClass("time_first"), "none" == t.css("display") ? "1" == $(e).attr("data-flag") ? T.Util.isEmpty($(e).parent().attr("data-time")) ? (cur_page_cc = parseInt($(e).parent().attr("data-page")), getInData($(e).attr("data-mid"), {
						hName: $(e).attr("data-hName"),
						gName: $(e).attr("data-gName"),
						matchTime: parseInt($(e).attr("data-time"))
					}, {
						isBalanced: $(e).attr("balanced"),
						orderItemCount: $(e).attr("orderItemCount"),
						itemMoney: $(e).attr("itemMoney"),
						prizeMoney: $(e).attr("prizeMoney"),
						profitMoney: $(e).attr("profitMoney")
					})) : (cur_page = parseInt($(e).parent().attr("data-page")), getDayMatch($(e).parent().attr("data-time"), $(e))) : (t.show(), $(e).find("b").removeClass("time_up").addClass("time_down")) : (t.hide(), $(e).find("b").removeClass("time_down").addClass("time_up"))
				}), $("#shareDetailBtn").off().Touch(function() {
					if ($(this).find("i").hasClass("shareImg")) {
						$("#sureShare").removeClass().addClass("sureY"), $(this).find("i").removeClass("shareImg").html("取消");
						var e = $(".seleBox");
						$.each(e, function(e, t) {
							$(t).attr("data-stype");
							$(t).removeClass("hide")
						}), $(".TZ_box1").attr("style", "margin-left:10%").next().attr("style", "margin-left:11%"), $(".TZ_listBeam").attr("style", "margin-left:7%"), $(".TZ_listBeamEnd").attr("style", "padding-left:6%")
					} else $("#sureShare").removeClass().addClass("sureN"), $(this).find("i").addClass("shareImg").html(""), $(".seleBox").addClass("hide"), $(".TZ_box1").attr("style", "").next().attr("style", ""), $(".TZ_listBeam").attr("style", ""), $(".TZ_listBeamEnd").attr("style", ""), $("#shareCount").html("0"), $(".seleBox").find("i.selectYes").removeClass("selectYes").addClass("selectNo hide"), $(".shareText_top").addClass("hide")
				}), $(".seleBox").off().Touch(function() {
					if ($(this).parent().hasClass("TZ_manyBeam") && isFromNoteEditor) return void tip("暂不能分享串关");
					$(this).find("i").hasClass("selectNo") && $("i.selectYes").length < shareMaxOrder ? $(this).find("i").removeClass("selectNo").addClass("selectYes hide") : (($("i.selectYes").length > shareMaxOrder || $(this).find("i").hasClass("selectNo")) && tip("一次最多分享" + shareMaxOrder + "个订单!", "warn"), $(this).find("i").removeClass("selectYes").addClass("selectNo hide")), $("i.selectYes").length ? ($("i.selectYes").length > shareMaxOrder ? $("#shareCount").html(shareMaxOrder) : $("#shareCount").html($("i.selectYes").length), $("#sureShare").removeClass("out").addClass("on")) : ($("#shareCount").html(0), $("#sureShare").removeClass("on").addClass("out"))
				})
			};
		return $(".bet_JQ .numbers").Touch(function() {
			e(1), curTimesIsJQ = !0
		}), {
			init: function() {
//				$(".LS_section .section_time").attr("data-curpage", "1"), cur_page = 1, BetDetailInit.getScore(beamType)
				$("#__calendarPanel").hide(), $(".no_beam").hide(), $(".bet_LS").show().siblings().hide(), beamType = "3", initDate(), cur_page = 1, $("#loading-new").show(), BetDetailInit.getScore(beamType)
			},
			addItemExpand: t,
			getScore: function(e, a) {
				if (3 == e) {
					var s = $("#his_date_start").val(),
						i = $("#his_date_end").val();
					if (void 0 === s || void 0 === i || 0 == s.toString().length || 0 == i.toString().length) return alert("日期不能为空"), !1;
					if (dateCompare(s, i)) return alert("开始日期不能大于结束日期"), !1;
					reqUrl = "/tp5/api/?s=activity/football/getBetdetail&uid=" + T.Storage.get("uid") + "&token=" + T.Storage.get("token") + "&cur_page=" + cur_page + "&type=" + e + "&per_page_num=" + per_page_num + "&order=1&startDate=" + s + "&endDate=" + i, detailRuning(s, i)
				} else{ 
					reqUrl = "/tp5/api/?s=activity/football/getBetdetail&uid=" + T.Storage.get("uid") + "&token=" + T.Storage.get("token") + "&cur_page=" + cur_page + "&type=" + e + "&per_page_num=" + per_page_num + "&order=1";
				}
				T.Util.xmlHttpRequest({
					type: "get",
					reqUrl: reqUrl,
					callback: function(n) {
						function r() {
							for (p in o.data) {
								var e = o.data,
									t = e[p].info;
								"1" == e[p].isFlag && e[p].info.contentList.length > 0 ? l.push(T.betInfoHtml.fillSignBetInfo(t)) : t.contentList.length > 0 && l.push(T.betInfoHtml.fillGroupBetInfo(t))
							}
						}
						if ($("#loading-new").hide(), !n.res_data && 1 == a) return $(".LS_section .section_time").html(" "), $("#More_L").hide(), void tip("当前日期没有记录");
						if (n.res_data && n.res_data.value) var o = n.res_data.value;
						var l = [],
							d = [];
						if (1 == e) {
							if (!o || "" == o) return void $(".s_time .no_beam").show();
							$(".s_time .no_beam").hide()
						} else {
							if (!o || "" == o) return void $(".no_beam").show();
							$(".no_beam").hide()
						}
						if (1 == e) for (var p = 0, m = o.length; p < m; p++) {
							d[p] = o[p].BALANCE_EXPECT, d[p] = d[p].replace(new RegExp("-", "gm"), "/");
							var c = ["日", "一", "二", "三", "四", "五", "六"],
								h = 'data-flag="1"';
							o[p].p_money && "" != o[p].p_money && o[p].p_money;
							var u = 0 == o[p].PRIZE_MONEY && 0 == o[p].p_money ? "--" : T.Util.parseNumber(o[p].p_money);
							if (o[p].effiMoney || 0 == o[p].effiMoney) var _ = 0 == o[p].effiMoney ? "--" : T.Util.parseNumber(parseInt(o[p].effiMoney));
							else var _ = "--";
							o[p].p_money > 0 && (u = '<span class="money_win">' + u + "</span>"), o[p].p_money < 0 && (u = '<span class="money_lose">' + u + "</span>");
							var g = new Date(o[p].BALANCE_EXPECT).getTime(),
								f = "";
							if (new Date(g).toDateString() === (new Date).toDateString() && (f = !0), 0 == p ? (h = 'data-flag="0"', l.push('<div class="TZ_listBox" data-time="' + o[p].BALANCE_EXPECT + '" data-page="2" data-run = "' + _ + '">                                        <ul class="time_list time_first" ' + h + '>                                              <li class="timeL">'), f ? l.push('<span class="toDay">今日 </span><span class="timeR_bai">星期' + c[new Date(new Date(d[p]).getTime()).getDay()] + '</span></li>                                              <li class="timeRight"><span class="pr_money">' + (1 == o[p].isBalanced ? "" : "当前") + "盈亏: " + u + '</span><span>&nbsp;</span><b class="time_down"></b></li>                                            </ul>') : l.push("<span>" + o[p].BALANCE_EXPECT + ' </span><span class="timeR_bai">星期' + c[new Date(new Date(d[p]).getTime()).getDay()] + '</span></li>                                              <li class="timeRight"><span class="pr_money">' + (1 == o[p].isBalanced ? "" : "当前") + "盈亏: " + u + '</span><span>&nbsp;</span><b class="time_down"></b></li>                                            </ul>')) : l.push('<div class="TZ_listBox" data-time="' + o[p].BALANCE_EXPECT + '" data-page="1" data-run = "' + _ + '">                                        <ul class="time_list" ' + h + '>                                              <li class="timeL"><span>' + o[p].BALANCE_EXPECT + ' </span><span class="timeR_bai">星期' + c[new Date(new Date(d[p]).getTime()).getDay()] + '</span></li>                                              <li class="timeRight"><span class="pr_money">' + (1 == o[p].isBalanced ? "" : "当前") + "盈亏: " + u + '</span><span>&nbsp;</span><b class="time_up"></b></li>                                            </ul>'), 0 == p ? l.push('<div class="time_listContent">') : l.push('<div class="time_listContent hide">'), "" !== o[p].data) {
								!
								function() {
									var e = o[p].data[0].itemBean;
									for (q in e) {
										var t = e[q].info;
										"1" == e[q].isFlag && e[q].info.contentList.length > 0 ? l.push(T.betInfoHtml.fillSignBetInfo(t)) : t.contentList.length > 0 && l.push(T.betInfoHtml.fillGroupBetInfo(t))
									}
								}();
								var v = o[0].data[0];
								$("#" + o[p].BALANCE_EXPECT).remove();
								var b = 0 == v.PRIZE_MONEY && 0 == v.p_money ? "--" : v.PRIZE_MONEY,
									u = 0 == v.PRIZE_MONEY && 0 == v.p_money ? "--" : v.p_money; - 1 != ("" + b).indexOf(".") && (b = ("" + b).substring(0, ("" + b).indexOf("."))), -1 != ("" + u).indexOf(".") && (u = ("" + u).substring(0, ("" + u).indexOf("."))), 1 == v.isBalanced ? l.push('<div class="TZ_box3" id="' + o[p].BALANCE_EXPECT + '">*共' + v.count + "单, 总投注" + T.Util.parseNumber(v.ITEM_MONEY) + ", 有效流水" + _ + ", 盈利" + T.Util.parseNumber(u) + "。</div>") : l.push('<div class="TZ_box3" id="' + o[p].BALANCE_EXPECT + '">*共' + v.count + "单, 总投注" + T.Util.parseNumber(v.ITEM_MONEY) + ", 有效流水" + _ + ", 当前盈利" + T.Util.parseNumber(u) + "。</div>"), "1" == o[0].data[0].isEnd && l.push('<div class="loadMore" id="timeMore">查看更多记录</div>')
							}
							l.push("</div></div>")
						} else if ("2" == e || "3" == e) {
							r();
							var y = n.res_data.value.isEnd;
							"2" == e ? "1" == y && ($("#More_W").show(), $("#More_W").off().Touch(function(t) {
								e = "2";
								var a = parseInt($(t).prev().attr("data-curpage"));
								cur_page = a + 1, reqUrl = "/web/services/order/orderInfo?token=" + T.Storage.get("access_token") + "&cur_page=" + cur_page + "&type=" + e + "&per_page_num=" + per_page_num + "&order=1", T.Util.xmlHttpRequest({
									type: "get",
									reqUrl: reqUrl,
									callback: function(e) {
										o = e.res_data.value, l.length = 0, r(), $(".WJ_section .section_time").append(l.join("")), initShareFn(), l.length = 0, "2" == e.res_data.value.isEnd && $("#More_W").hide()
									},
									errorCallback: function() {}
								}), $(t).prev().attr("data-curpage", cur_page)
							})) : "3" == e && ("1" == y ? ($("#More_L").show(), $("#More_L").off().Touch(function(t) {
								isSearch = !1, e = "3";
								var a = parseInt($(t).prev().attr("data-curpage"));
								cur_page = a + 1, reqUrl = "/web/services/order/orderInfo?token=" + T.Storage.get("access_token") + "&cur_page=" + cur_page + "&type=" + e + "&per_page_num=" + per_page_num + "&order=1&startDate=" + s + "&endDate=" + i, T.Util.xmlHttpRequest({
									type: "get",
									reqUrl: reqUrl,
									callback: function(e) {
										o = e.res_data.value, l.length = 0, r(), $(".LS_section .section_time").append(l.join("")), initShareFn(), l.length = 0, "2" == e.res_data.value.isEnd && $("#More_L").hide()
									},
									errorCallback: function() {}
								}), $(t).prev().attr("data-curpage", cur_page)
							})) : $("#More_L").hide())
						}
						if ("1" == e ? ($(".JQ_section .section_time").html(l.join("")), l.length = 0) : "2" == e ? ($(".WJ_section .section_time").html(l.join("")), l.length = 0) : "3" == e && ($(".LS_section .section_time").html(l.join("")), l.length = 0), "" != dropLoad && (dropLoad.resetload(), dropLoad.unlock(), dropLoad.noData(!1), dropLoad = ""), initShareFn(), t(), $("#timeMore").Touch(function(e) {
							curJQ = !0, cur_page = parseInt($(e).parent().parent().attr("data-page")), getDayMatch($(e).parent().parent().attr("data-time"), $(e).parent().prev()), $(e).remove()
						}), isFromNoteEditor) {
							$("#sureShare").removeClass().addClass("sureY");
							var M = $(".seleBox");
							$.each(M, function(e, t) {
								"S" == $(t).attr("data-stype") && $(t).removeClass("hide")
							}), $(".TZ_box1").attr("style", "margin-left:10%").next().attr("style", "margin-left:11%"), $(".TZ_listBeam").attr("style", "margin-left:7%"), $(".TZ_listBeamEnd").attr("style", "padding-left:6%")
						}
					},
					errorCallback: function() {}
				})
			},
			doHtml: function(e, t, a, s) {
				function i() {
					n.push(T.betInfoHtml.fillGroupBetInfo(e[l]))
				}
				var n = [],
					r = !0,
					o = e[0].matchId;
				"1001" == e[0].passType || $("#" + o).find(".cg_Title").length || n.push('<div class="cg_Title">串关竞猜</div>');
				for (var l = 0, d = e.length; l < d; l++) if ("1001" != e[0].passType) i();
				else {
					var p = 0 == a.prizeMoney && 0 == a.profitMoney ? "--" : a.prizeMoney,
						m = 0 == a.prizeMoney && 0 == a.profitMoney ? "--" : a.profitMoney; - 1 != ("" + p).indexOf(".") && (p = ("" + p).substring(0, ("" + p).indexOf("."))), -1 != ("" + m).indexOf(".") && (m = ("" + m).substring(0, ("" + m).indexOf("."))), "1001" == e[l].passType ? (n.push(T.betInfoHtml.fillSignBetInfo(e[l])), l == d - 1 && (1 == a.isBalanced ? n.push('<div class="TZ_box3" >*共' + a.orderItemCount + "单, 总投注" + T.Util.parseNumber(a.itemMoney) + ", 返还" + T.Util.parseNumber(p) + ", 盈利" + T.Util.parseNumber(m) + "。</div>") : n.push('<div class="TZ_box3" >*共' + a.orderItemCount + "单, 总投注" + T.Util.parseNumber(a.itemMoney) + ", 当前返还" + T.Util.parseNumber(p) + ", 当前盈利" + T.Util.parseNumber(m) + "。</div>"), ("false" == s || a.itemcount > 10) && n.push('<div id="loadMore" class="loadMore" data-type="dg">查看更多记录</div>'))) : (r && (1 == a.isBalanced ? n.push('<div class="TZ_box3" >*共' + a.orderItemCount + "单, 总投注" + T.Util.parseNumber(a.itemMoney) + ", 返还" + T.Util.parseNumber(p) + ", 盈利" + T.Util.parseNumber(m) + "。</div>") : n.push('<div class="TZ_box3" >*共' + a.orderItemCount + "单, 总投注" + T.Util.parseNumber(a.itemMoney) + ", 当前返还" + T.Util.parseNumber(p) + ", 当前盈利" + T.Util.parseNumber(m) + "。</div>"), n.push('<div class="cg_Title">串关竞猜</div>')), r = !1, i(), l == d - 1 && ("false" == s || a.itemcount > 10) && n.push('<div id="loadMore" class="loadMore" data-type="cg">查看更多记录</div>'))
				}
				return n.join("")
			}
		}
	}();

$(document).ready(function() {
//	Global.iosAudit || $("#shareDetailBtn").removeClass("hide"),
	T.Util.isEmpty(T.Util.getPara("from")) || "noteEditor" != T.Util.getPara("from") || ($("#shareDetailBtn").removeClass("hide"),
	$("#shareDetailBtn").find("i").removeClass("shareImg").html("取消"),
	isFromNoteEditor = !0,
	shareMaxOrder = 1,
	$(".maxCount").html(shareMaxOrder)),
	jsLoad("../js/lib/Calendar3.js"),
	BetDetailInit.init(),
	$("#bet_con").off().dropload({
		scrollArea: window,
		loadUpFn: function(e) {
			dropLoad = e, console.log("投注记录下拉刷新"), BetDetailInit.init(), initShareFn()
		},
		threshold: 50
	})
})
</script>